"use strict";(self["webpackChunkregistration"]=self["webpackChunkregistration"]||[]).push([[670],{9367:function(e,t,a){a.d(t,{Z:function(){return c}});var l=a(3396),n=a(9242);const i={class:"fixed z-10 left-0 top-0 w-full h-full overflow-scroll bg-black bg-opacity-40"},d={class:"box-border w-inherit sm:w-sm bg-white relative mx-auto w-11/12 sm:w-3/4 md:w-2/3 lg:w-1/2 my-12 p-5 sm:px-10 sm:py-5 rounded",style:{"min-height":"100px"}},g={class:"flex items-center"},u={class:"flex-grow"};function s(e,t,a,s,o,k){return(0,l.wg)(),(0,l.j4)(n.uT,{name:"modal"},{default:(0,l.w5)((()=>[(0,l._)("div",i,[(0,l._)("div",d,[(0,l._)("div",g,[(0,l._)("div",u,[(0,l.WI)(e.$slots,"title")]),(0,l._)("div",{class:"text-4xl text-gray-300 hover:text-gray-500 cursor-pointer duration-300 font-light",onClick:t[0]||(t[0]=(...t)=>e.closeModal&&e.closeModal(...t))},"×")]),(0,l.WI)(e.$slots,"content")])])])),_:3})}var o=(0,l.aZ)({setup(e,t){function a(){t.emit("close_modal")}return{closeModal:a}}}),k=a(89);const r=(0,k.Z)(o,[["render",s]]);var c=r},670:function(e,t,a){a.r(t),a.d(t,{default:function(){return un}});var l=a(3396),n=a(7139),i=a(9242);const d=e=>((0,l.dD)("data-v-4d452778"),e=e(),(0,l.Cn)(),e),g={class:"mx-auto w-full p-5 sm:w-11/12 md:w-4/5 lg:w-2/3 xl:w-1/2"},u={class:"box-section"},s=(0,l.Uk)("回上頁"),o=(0,l.Uk)("Back"),k={class:"box-section"},r={class:"title"},c=(0,l.Uk)("本單位選手列表"),_=(0,l.Uk)("Athletes Of This Organization / Depratment"),y=d((()=>(0,l._)("hr",null,null,-1))),w={class:"athlete-list"},p={class:"w-[20%]"},h=(0,l.Uk)("身分證字號"),D=(0,l.Uk)("ARC/Unified ID"),U={key:0,class:"w-[20%]"},m=(0,l.Uk)("學校/團體"),q=(0,l.Uk)("Organization"),H={key:1,class:"w-[20%]"},b=(0,l.Uk)("系所"),Y=(0,l.Uk)("Department"),v={class:"w-[15%]"},f=(0,l.Uk)("姓名"),x=(0,l.Uk)("Name"),A={class:"w-[10%]"},L=(0,l.Uk)("性別"),V=(0,l.Uk)("Sex"),O={class:"w-[15%]"},C=(0,l.Uk)("新增"),z=(0,l.Uk)("Add"),S={key:0},M={key:0,class:"w-[20%] truncate max-w-0"},I={key:1,class:"w-[20%] truncate max-w-0"},E={class:"w-[15%] truncate max-w-0"},P={key:0},$=(0,l.Uk)("男"),N=(0,l.Uk)("Men"),W={key:1},G=(0,l.Uk)("女"),R=(0,l.Uk)("Women"),j=["onClick"],T=(0,l.Uk)("顯示"),Z=(0,l.Uk)("More"),F={key:0,class:"box-section"},J={class:"title"},B=(0,l.Uk)("跨單位選手列表"),K=(0,l.Uk)("Interorganizational / Interdepartmental Athletes"),Q=d((()=>(0,l._)("hr",null,null,-1))),X={class:"athlete-list"},ee={class:"w-[20%]"},te=(0,l.Uk)("身分證字號"),ae=(0,l.Uk)("ARC/Unified ID"),le={key:0,class:"w-[20%]"},ne=(0,l.Uk)("學校/團體"),ie=(0,l.Uk)("Organization"),de={key:1,class:"w-[20%]"},ge=(0,l.Uk)("系所"),ue=(0,l.Uk)("Department"),se={class:"w-[15%]"},oe=(0,l.Uk)("姓名"),ke=(0,l.Uk)("Name"),re={class:"w-[10%]"},ce=(0,l.Uk)("性別"),_e=(0,l.Uk)("Sex"),ye=d((()=>(0,l._)("th",{class:"w-[15%]"},null,-1))),we={class:"w-[20%] truncate max-w-0"},pe={class:"w-[20%] truncate max-w-0"},he={class:"w-[15%] truncate max-w-0"},De={key:0},Ue=(0,l.Uk)("男"),me=(0,l.Uk)("Men"),qe={key:1},He=(0,l.Uk)("女"),be=(0,l.Uk)("Women"),Ye=["onClick"],ve=(0,l.Uk)("顯示"),fe=(0,l.Uk)("More"),xe={class:"text-2xl"},Ae={key:0},Le=(0,l.Uk)("新增選手"),Ve=(0,l.Uk)("New Athlete"),Oe={key:1},Ce=(0,l.Uk)("選手資訊"),ze=(0,l.Uk)("Athlete Info"),Se=d((()=>(0,l._)("hr",{class:"my-2"},null,-1)));function Me(e,t,a,d,Me,Ie){const Ee=(0,l.up)("AddAthlete"),Pe=(0,l.up)("EditAthlete"),$e=(0,l.up)("SmallModal");return(0,l.wg)(),(0,l.iD)(l.HY,null,[(0,l._)("div",g,[(0,l._)("div",u,[(0,l._)("div",{class:"text-xl text-gray-400 cursor-pointer",onClick:t[0]||(t[0]=t=>e.$router.go(-1))},["ch"==e.language?((0,l.wg)(),(0,l.iD)(l.HY,{key:0},[s],64)):(0,l.kq)("",!0),"en"==e.language?((0,l.wg)(),(0,l.iD)(l.HY,{key:1},[o],64)):(0,l.kq)("",!0)])]),(0,l._)("div",k,[(0,l._)("div",r,["ch"==e.language?((0,l.wg)(),(0,l.iD)(l.HY,{key:0},[c],64)):(0,l.kq)("",!0),"en"==e.language?((0,l.wg)(),(0,l.iD)(l.HY,{key:1},[_],64)):(0,l.kq)("",!0)]),y,(0,l._)("table",w,[(0,l._)("tr",null,[(0,l._)("th",p,["ch"==e.language?((0,l.wg)(),(0,l.iD)(l.HY,{key:0},[h],64)):(0,l.kq)("",!0),"en"==e.language?((0,l.wg)(),(0,l.iD)(l.HY,{key:1},[D],64)):(0,l.kq)("",!0)]),"O0000"!=e.userData.org_id?((0,l.wg)(),(0,l.iD)("th",U,["ch"==e.language?((0,l.wg)(),(0,l.iD)(l.HY,{key:0},[m],64)):(0,l.kq)("",!0),"en"==e.language?((0,l.wg)(),(0,l.iD)(l.HY,{key:1},[q],64)):(0,l.kq)("",!0)])):(0,l.kq)("",!0),"O0000"!=e.userData.org_id?((0,l.wg)(),(0,l.iD)("th",H,["ch"==e.language?((0,l.wg)(),(0,l.iD)(l.HY,{key:0},[b],64)):(0,l.kq)("",!0),"en"==e.language?((0,l.wg)(),(0,l.iD)(l.HY,{key:1},[Y],64)):(0,l.kq)("",!0)])):(0,l.kq)("",!0),(0,l._)("th",v,["ch"==e.language?((0,l.wg)(),(0,l.iD)(l.HY,{key:0},[f],64)):(0,l.kq)("",!0),"en"==e.language?((0,l.wg)(),(0,l.iD)(l.HY,{key:1},[x],64)):(0,l.kq)("",!0)]),(0,l._)("th",A,["ch"==e.language?((0,l.wg)(),(0,l.iD)(l.HY,{key:0},[L],64)):(0,l.kq)("",!0),"en"==e.language?((0,l.wg)(),(0,l.iD)(l.HY,{key:1},[V],64)):(0,l.kq)("",!0)]),(0,l._)("th",O,[(0,l._)("button",{class:"button",onClick:t[1]||(t[1]=t=>e.displayModal=1)},["ch"==e.language?((0,l.wg)(),(0,l.iD)(l.HY,{key:0},[C],64)):(0,l.kq)("",!0),"en"==e.language?((0,l.wg)(),(0,l.iD)(l.HY,{key:1},[z],64)):(0,l.kq)("",!0)])])]),((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(e.athleteList.home,((t,a)=>((0,l.wg)(),(0,l.iD)(l.HY,{key:a},["O0000"!=e.userData.org_id||"O0000"==e.userData.org_id&&t.add_by==e.userData.u_id?((0,l.wg)(),(0,l.iD)("tr",S,[(0,l._)("td",null,(0,n.zw)(t.unified_id),1),"O0000"!=e.userData.org_id?((0,l.wg)(),(0,l.iD)("td",M,(0,n.zw)(t.org_ch),1)):(0,l.kq)("",!0),"O0000"!=e.userData.org_id?((0,l.wg)(),(0,l.iD)("td",I,(0,n.zw)(t.dept_ch),1)):(0,l.kq)("",!0),(0,l._)("td",E,(0,n.zw)(t.name),1),(0,l._)("td",null,[1==t.sex?((0,l.wg)(),(0,l.iD)("span",P,["ch"==e.language?((0,l.wg)(),(0,l.iD)(l.HY,{key:0},[$],64)):(0,l.kq)("",!0),"en"==e.language?((0,l.wg)(),(0,l.iD)(l.HY,{key:1},[N],64)):(0,l.kq)("",!0)])):(0,l.kq)("",!0),2==t.sex?((0,l.wg)(),(0,l.iD)("span",W,["ch"==e.language?((0,l.wg)(),(0,l.iD)(l.HY,{key:0},[G],64)):(0,l.kq)("",!0),"en"==e.language?((0,l.wg)(),(0,l.iD)(l.HY,{key:1},[R],64)):(0,l.kq)("",!0)])):(0,l.kq)("",!0)]),(0,l._)("td",null,[(0,l._)("button",{class:"button",onClick:a=>e.editAthlete(t)},["ch"==e.language?((0,l.wg)(),(0,l.iD)(l.HY,{key:0},[T],64)):(0,l.kq)("",!0),"en"==e.language?((0,l.wg)(),(0,l.iD)(l.HY,{key:1},[Z],64)):(0,l.kq)("",!0)],8,j)])])):(0,l.kq)("",!0)],64)))),128))])]),"O0000"!=e.userData.org_id?((0,l.wg)(),(0,l.iD)("div",F,[(0,l._)("div",J,["ch"==e.language?((0,l.wg)(),(0,l.iD)(l.HY,{key:0},[B],64)):(0,l.kq)("",!0),"en"==e.language?((0,l.wg)(),(0,l.iD)(l.HY,{key:1},[K],64)):(0,l.kq)("",!0)]),Q,(0,l._)("table",X,[(0,l._)("tr",null,[(0,l._)("th",ee,["ch"==e.language?((0,l.wg)(),(0,l.iD)(l.HY,{key:0},[te],64)):(0,l.kq)("",!0),"en"==e.language?((0,l.wg)(),(0,l.iD)(l.HY,{key:1},[ae],64)):(0,l.kq)("",!0)]),"O0000"!=e.userData.org_id?((0,l.wg)(),(0,l.iD)("th",le,["ch"==e.language?((0,l.wg)(),(0,l.iD)(l.HY,{key:0},[ne],64)):(0,l.kq)("",!0),"en"==e.language?((0,l.wg)(),(0,l.iD)(l.HY,{key:1},[ie],64)):(0,l.kq)("",!0)])):(0,l.kq)("",!0),"O0000"!=e.userData.org_id?((0,l.wg)(),(0,l.iD)("th",de,["ch"==e.language?((0,l.wg)(),(0,l.iD)(l.HY,{key:0},[ge],64)):(0,l.kq)("",!0),"en"==e.language?((0,l.wg)(),(0,l.iD)(l.HY,{key:1},[ue],64)):(0,l.kq)("",!0)])):(0,l.kq)("",!0),(0,l._)("th",se,["ch"==e.language?((0,l.wg)(),(0,l.iD)(l.HY,{key:0},[oe],64)):(0,l.kq)("",!0),"en"==e.language?((0,l.wg)(),(0,l.iD)(l.HY,{key:1},[ke],64)):(0,l.kq)("",!0)]),(0,l._)("th",re,["ch"==e.language?((0,l.wg)(),(0,l.iD)(l.HY,{key:0},[ce],64)):(0,l.kq)("",!0),"en"==e.language?((0,l.wg)(),(0,l.iD)(l.HY,{key:1},[_e],64)):(0,l.kq)("",!0)]),ye]),((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(e.athleteList.other,((t,a)=>((0,l.wg)(),(0,l.iD)("tr",{key:a},[(0,l._)("td",null,(0,n.zw)(t.unified_id),1),(0,l._)("td",we,(0,n.zw)(t[`org_${e.language}`]),1),(0,l._)("td",pe,(0,n.zw)(t[`dept_${e.language}`]),1),(0,l._)("td",he,(0,n.zw)(t.name),1),(0,l._)("td",null,[1==t.sex?((0,l.wg)(),(0,l.iD)("span",De,["ch"==e.language?((0,l.wg)(),(0,l.iD)(l.HY,{key:0},[Ue],64)):(0,l.kq)("",!0),"en"==e.language?((0,l.wg)(),(0,l.iD)(l.HY,{key:1},[me],64)):(0,l.kq)("",!0)])):(0,l.kq)("",!0),2==t.sex?((0,l.wg)(),(0,l.iD)("span",qe,["ch"==e.language?((0,l.wg)(),(0,l.iD)(l.HY,{key:0},[He],64)):(0,l.kq)("",!0),"en"==e.language?((0,l.wg)(),(0,l.iD)(l.HY,{key:1},[be],64)):(0,l.kq)("",!0)])):(0,l.kq)("",!0)]),(0,l._)("td",null,[(0,l._)("button",{class:"button",onClick:a=>e.editAthlete(t,"lookup")},["ch"==e.language?((0,l.wg)(),(0,l.iD)(l.HY,{key:0},[ve],64)):(0,l.kq)("",!0),"en"==e.language?((0,l.wg)(),(0,l.iD)(l.HY,{key:1},[fe],64)):(0,l.kq)("",!0)],8,Ye)])])))),128))])])):(0,l.kq)("",!0)]),(0,l.wy)((0,l.Wm)($e,{onClose_modal:t[4]||(t[4]=t=>e.displayModal=0)},{title:(0,l.w5)((()=>[(0,l._)("div",xe,[1==e.displayModal?((0,l.wg)(),(0,l.iD)("div",Ae,["ch"==e.language?((0,l.wg)(),(0,l.iD)(l.HY,{key:0},[Le],64)):(0,l.kq)("",!0),"en"==e.language?((0,l.wg)(),(0,l.iD)(l.HY,{key:1},[Ve],64)):(0,l.kq)("",!0)])):(0,l.kq)("",!0),2==e.displayModal?((0,l.wg)(),(0,l.iD)("div",Oe,["ch"==e.language?((0,l.wg)(),(0,l.iD)(l.HY,{key:0},[Ce],64)):(0,l.kq)("",!0),"en"==e.language?((0,l.wg)(),(0,l.iD)(l.HY,{key:1},[ze],64)):(0,l.kq)("",!0)])):(0,l.kq)("",!0)])])),content:(0,l.w5)((()=>[Se,1==e.displayModal?((0,l.wg)(),(0,l.j4)(Ee,{key:0,onClose_modal:t[2]||(t[2]=t=>e.displayModal=0),onRefresh:e.getAthleteList},null,8,["onRefresh"])):(0,l.kq)("",!0),2==e.displayModal?((0,l.wg)(),(0,l.j4)(Pe,{key:1,"edit-type":e.editType,onClose_modal:t[3]||(t[3]=t=>e.displayModal=0),onRefresh:e.getAthleteList,"athlete-data":e.selected},null,8,["edit-type","onRefresh","athlete-data"])):(0,l.kq)("",!0)])),_:1},512),[[i.F8,e.displayModal>0]])],64)}var Ie=a(4870),Ee=a(9367),Pe=a(3927);const $e=e=>((0,l.dD)("data-v-035826d4"),e=e(),(0,l.Cn)(),e),Ne={key:0,class:"text-sm text-gray-400"},We={class:"athlete-table"},Ge={class:"w-[20%]"},Re=(0,l.Uk)("身分證字號*"),je=(0,l.Uk)("ARC/Unified ID*"),Te={class:"w-[80%]"},Ze=(0,l.Uk)("姓名*"),Fe=(0,l.Uk)("Name*"),Je=(0,l.Uk)("性別*"),Be=(0,l.Uk)("Sex*"),Ke={value:"1"},Qe=(0,l.Uk)("生理男"),Xe=(0,l.Uk)("Male"),et={value:"2"},tt=(0,l.Uk)("生理女"),at=(0,l.Uk)("Female"),lt={key:0},nt=(0,l.Uk)("是否為大專"),it=$e((()=>(0,l._)("br",null,null,-1))),dt=(0,l.Uk)("院校學生*"),gt=(0,l.Uk)("University"),ut=$e((()=>(0,l._)("br",null,null,-1))),st=(0,l.Uk)("Student*"),ot=["disabled"],kt=(0,l.Uk)("是"),rt=(0,l.Uk)("Yes"),ct=["disabled"],_t=(0,l.Uk)("否"),yt=(0,l.Uk)("No"),wt=(0,l.Uk)("學校*"),pt=(0,l.Uk)("University*"),ht=(0,l.Uk)("找不到 "),Dt=(0,l.Uk)(" Not found"),Ut={key:1,class:"opacity-50"},mt=(0,l.Uk)("系所"),qt=(0,l.Uk)("Department"),Ht={key:0},bt=(0,l.Uk)("找不到 "),Yt=(0,l.Uk)(" Not found "),vt={key:1,class:"opacity-50"},ft={key:2,class:"opacity-50"},xt={key:0},At=(0,l.Uk)("團體*"),Lt=(0,l.Uk)("Organization*"),Vt=(0,l.Uk)("找不到 "),Ot=(0,l.Uk)(" Not found"),Ct={key:1,class:"opacity-50"},zt={key:3},St=(0,l.Uk)("身份*"),Mt=(0,l.Uk)("Identity*"),It={value:"0"},Et=(0,l.Uk)("隊員"),Pt=(0,l.Uk)("Member"),$t={value:"1"},Nt=(0,l.Uk)("隊長"),Wt=(0,l.Uk)("Captain"),Gt={key:4},Rt=(0,l.Uk)("學號"),jt=(0,l.Uk)("School ID"),Tt=(0,l.Uk)("生日*"),Zt=(0,l.Uk)("Birthday*"),Ft=(0,l.Uk)("手機"),Jt=(0,l.Uk)("Phone (TW)"),Bt={class:"text-right"},Kt=(0,l.Uk)("新增"),Qt=(0,l.Uk)("Add");function Xt(e,t,a,d,g,u){const s=(0,l.up)("v-select");return(0,l.wg)(),(0,l.iD)("div",null,["en"==e.language?((0,l.wg)(),(0,l.iD)("div",Ne,"If you do not have any type of Resident Certificate of Taiwan, Please input 3 letter code of your country + passport number as your Unified ID. (e.g. USA31195855)")):(0,l.kq)("",!0),(0,l._)("table",We,[(0,l._)("tr",null,[(0,l._)("td",Ge,["ch"==e.language?((0,l.wg)(),(0,l.iD)(l.HY,{key:0},[Re],64)):(0,l.kq)("",!0),"en"==e.language?((0,l.wg)(),(0,l.iD)(l.HY,{key:1},[je],64)):(0,l.kq)("",!0)]),(0,l._)("td",Te,[(0,l.wy)((0,l._)("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=t=>e.data.unified_id=t)},null,512),[[i.nr,e.data.unified_id]])])]),(0,l._)("tr",null,[(0,l._)("td",null,["ch"==e.language?((0,l.wg)(),(0,l.iD)(l.HY,{key:0},[Ze],64)):(0,l.kq)("",!0),"en"==e.language?((0,l.wg)(),(0,l.iD)(l.HY,{key:1},[Fe],64)):(0,l.kq)("",!0)]),(0,l._)("td",null,[(0,l.wy)((0,l._)("input",{type:"text","onUpdate:modelValue":t[1]||(t[1]=t=>e.data.name=t)},null,512),[[i.nr,e.data.name]])])]),(0,l._)("tr",null,[(0,l._)("td",null,["ch"==e.language?((0,l.wg)(),(0,l.iD)(l.HY,{key:0},[Je],64)):(0,l.kq)("",!0),"en"==e.language?((0,l.wg)(),(0,l.iD)(l.HY,{key:1},[Be],64)):(0,l.kq)("",!0)]),(0,l._)("td",null,[(0,l.wy)((0,l._)("select",{"onUpdate:modelValue":t[2]||(t[2]=t=>e.data.sex=t)},[(0,l._)("option",Ke,["ch"==e.language?((0,l.wg)(),(0,l.iD)(l.HY,{key:0},[Qe],64)):(0,l.kq)("",!0),"en"==e.language?((0,l.wg)(),(0,l.iD)(l.HY,{key:1},[Xe],64)):(0,l.kq)("",!0)]),(0,l._)("option",et,["ch"==e.language?((0,l.wg)(),(0,l.iD)(l.HY,{key:0},[tt],64)):(0,l.kq)("",!0),"en"==e.language?((0,l.wg)(),(0,l.iD)(l.HY,{key:1},[at],64)):(0,l.kq)("",!0)])],512),[[i.bM,e.data.sex]])])]),"O0000"!=e.data.org_id?((0,l.wg)(),(0,l.iD)("tr",lt,[(0,l._)("td",null,["ch"==e.language?((0,l.wg)(),(0,l.iD)(l.HY,{key:0},[nt,it,dt],64)):(0,l.kq)("",!0),"en"==e.language?((0,l.wg)(),(0,l.iD)(l.HY,{key:1},[gt,ut,st],64)):(0,l.kq)("",!0)]),(0,l._)("td",null,[(0,l._)("label",null,[(0,l.wy)((0,l._)("input",{type:"radio",value:"1",disabled:e.lockList.student,"onUpdate:modelValue":t[3]||(t[3]=t=>e.data.student=t),onChange:t[4]||(t[4]=t=>e.changeOrg(1))},null,40,ot),[[i.G2,e.data.student]]),(0,l._)("span",null,["ch"==e.language?((0,l.wg)(),(0,l.iD)(l.HY,{key:0},[kt],64)):(0,l.kq)("",!0),"en"==e.language?((0,l.wg)(),(0,l.iD)(l.HY,{key:1},[rt],64)):(0,l.kq)("",!0)])]),(0,l._)("label",null,[(0,l.wy)((0,l._)("input",{type:"radio",value:"0",disabled:e.lockList.student,"onUpdate:modelValue":t[5]||(t[5]=t=>e.data.student=t),onChange:t[6]||(t[6]=t=>e.changeOrg(0))},null,40,ct),[[i.G2,e.data.student]]),(0,l._)("span",null,["ch"==e.language?((0,l.wg)(),(0,l.iD)(l.HY,{key:0},[_t],64)):(0,l.kq)("",!0),"en"==e.language?((0,l.wg)(),(0,l.iD)(l.HY,{key:1},[yt],64)):(0,l.kq)("",!0)])])])])):(0,l.kq)("",!0),1==e.data.student?((0,l.wg)(),(0,l.iD)(l.HY,{key:1},[(0,l._)("tr",null,[(0,l._)("td",null,["ch"==e.language?((0,l.wg)(),(0,l.iD)(l.HY,{key:0},[wt],64)):(0,l.kq)("",!0),"en"==e.language?((0,l.wg)(),(0,l.iD)(l.HY,{key:1},[pt],64)):(0,l.kq)("",!0)]),(0,l._)("td",null,[(0,l.Wm)(s,{class:"cursor-pointer",disabled:e.lockList.org_id,clearable:!1,options:e.univList,reduce:e=>e.univ_id,modelValue:e.data.org_id,"onUpdate:modelValue":t[7]||(t[7]=t=>e.data.org_id=t),onInput:e.resetSelect},{"no-options":(0,l.w5)((({search:e,searching:t})=>[t?((0,l.wg)(),(0,l.iD)(l.HY,{key:0},[ht,(0,l._)("em",null,(0,n.zw)(e),1),Dt],64)):((0,l.wg)(),(0,l.iD)("div",Ut,"請輸入或選擇學校 Please select your university."))])),_:1},8,["disabled","options","reduce","modelValue","onInput"])])]),(0,l._)("tr",null,[(0,l._)("td",null,["ch"==e.language?((0,l.wg)(),(0,l.iD)(l.HY,{key:0},[mt],64)):(0,l.kq)("",!0),"en"==e.language?((0,l.wg)(),(0,l.iD)(l.HY,{key:1},[qt],64)):(0,l.kq)("",!0)]),(0,l._)("td",null,[e.deptList.length>0?((0,l.wg)(),(0,l.iD)("div",Ht,[(0,l.Wm)(s,{class:"cursor-pointer",disabled:e.lockList.dept_id,clearable:!1,options:e.deptList,reduce:e=>e.dept_id,modelValue:e.data.dept_id,"onUpdate:modelValue":t[8]||(t[8]=t=>e.data.dept_id=t),label:"label"},{"no-options":(0,l.w5)((({search:t,searching:a})=>[a?((0,l.wg)(),(0,l.iD)(l.HY,{key:0},[bt,(0,l._)("em",null,(0,n.zw)(t),1),Yt],64)):e.data.org_id.length>0?((0,l.wg)(),(0,l.iD)("div",vt,"載入中 Loading")):((0,l.wg)(),(0,l.iD)("div",ft,"請選擇學校 Please select your university."))])),_:1},8,["disabled","options","reduce","modelValue"])])):(0,l.kq)("",!0)])])],64)):((0,l.wg)(),(0,l.iD)(l.HY,{key:2},["O0000"!=e.data.org_id?((0,l.wg)(),(0,l.iD)("tr",xt,[(0,l._)("td",null,["ch"==e.language?((0,l.wg)(),(0,l.iD)(l.HY,{key:0},[At],64)):(0,l.kq)("",!0),"en"==e.language?((0,l.wg)(),(0,l.iD)(l.HY,{key:1},[Lt],64)):(0,l.kq)("",!0)]),(0,l._)("td",null,[(0,l.Wm)(s,{class:"cursor-pointer",disabled:e.lockList.org_id,clearable:!1,options:e.orgList,reduce:e=>e.org_id,modelValue:e.data.org_id,"onUpdate:modelValue":t[9]||(t[9]=t=>e.data.org_id=t),label:"name_ch_full"},{"no-options":(0,l.w5)((({search:e,searching:t})=>[t?((0,l.wg)(),(0,l.iD)(l.HY,{key:0},[Vt,(0,l._)("em",null,(0,n.zw)(e),1),Ot],64)):((0,l.wg)(),(0,l.iD)("div",Ct,"請輸入或選擇團體 Please select your organization."))])),_:1},8,["disabled","options","reduce","modelValue"])])])):(0,l.kq)("",!0)],64)),"O0000"!=e.data.org_id?((0,l.wg)(),(0,l.iD)("tr",zt,[(0,l._)("td",null,["ch"==e.language?((0,l.wg)(),(0,l.iD)(l.HY,{key:0},[St],64)):(0,l.kq)("",!0),"en"==e.language?((0,l.wg)(),(0,l.iD)(l.HY,{key:1},[Mt],64)):(0,l.kq)("",!0)]),(0,l._)("td",null,[(0,l.wy)((0,l._)("select",{"onUpdate:modelValue":t[10]||(t[10]=t=>e.data.role=t)},[(0,l._)("option",It,["ch"==e.language?((0,l.wg)(),(0,l.iD)(l.HY,{key:0},[Et],64)):(0,l.kq)("",!0),"en"==e.language?((0,l.wg)(),(0,l.iD)(l.HY,{key:1},[Pt],64)):(0,l.kq)("",!0)]),(0,l._)("option",$t,["ch"==e.language?((0,l.wg)(),(0,l.iD)(l.HY,{key:0},[Nt],64)):(0,l.kq)("",!0),"en"==e.language?((0,l.wg)(),(0,l.iD)(l.HY,{key:1},[Wt],64)):(0,l.kq)("",!0)])],512),[[i.bM,e.data.role]])])])):(0,l.kq)("",!0),1==e.data.student?((0,l.wg)(),(0,l.iD)("tr",Gt,[(0,l._)("td",null,["ch"==e.language?((0,l.wg)(),(0,l.iD)(l.HY,{key:0},[Rt],64)):(0,l.kq)("",!0),"en"==e.language?((0,l.wg)(),(0,l.iD)(l.HY,{key:1},[jt],64)):(0,l.kq)("",!0)]),(0,l._)("td",null,[(0,l.wy)((0,l._)("input",{type:"text","onUpdate:modelValue":t[11]||(t[11]=t=>e.data.student_id=t)},null,512),[[i.nr,e.data.student_id]])])])):(0,l.kq)("",!0),(0,l._)("tr",null,[(0,l._)("td",null,["ch"==e.language?((0,l.wg)(),(0,l.iD)(l.HY,{key:0},[Tt],64)):(0,l.kq)("",!0),"en"==e.language?((0,l.wg)(),(0,l.iD)(l.HY,{key:1},[Zt],64)):(0,l.kq)("",!0)]),(0,l._)("td",null,[(0,l.wy)((0,l._)("input",{type:"date","onUpdate:modelValue":t[12]||(t[12]=t=>e.data.birthday=t)},null,512),[[i.nr,e.data.birthday]])])]),(0,l._)("tr",null,[(0,l._)("td",null,["ch"==e.language?((0,l.wg)(),(0,l.iD)(l.HY,{key:0},[Ft],64)):(0,l.kq)("",!0),"en"==e.language?((0,l.wg)(),(0,l.iD)(l.HY,{key:1},[Jt],64)):(0,l.kq)("",!0)]),(0,l._)("td",null,[(0,l.wy)((0,l._)("input",{type:"text","onUpdate:modelValue":t[13]||(t[13]=t=>e.data.phone=t)},null,512),[[i.nr,e.data.phone]])])])]),(0,l._)("div",Bt,[(0,l._)("button",{class:"button",onClick:t[14]||(t[14]=(...t)=>e.submitAll&&e.submitAll(...t))},["ch"==e.language?((0,l.wg)(),(0,l.iD)(l.HY,{key:0},[Kt],64)):(0,l.kq)("",!0),"en"==e.language?((0,l.wg)(),(0,l.iD)(l.HY,{key:1},[Qt],64)):(0,l.kq)("",!0)])])])}var ea=a(4226),ta=a.n(ea),aa=a(65),la=(0,l.aZ)({setup(e,t){const a=new Pe.L,n=new Pe._,i=(0,Ie.qj)({unified_id:"",name:"",org_id:"",dept_id:"",sex:1,student:1,student_id:"",birthday:"",phone:"",role:0,avatar:"",remark:"{}"}),d=(0,Ie.qj)({org_id:!1,dept_id:!1,student:!1}),g=(0,Ie.iH)([]);function u(){a.Url("organization/list").GetAll(g)}u();const s=(0,Ie.iH)([]);a.Url("univ-list").GetAll(s).then((()=>{for(let e=0;e<s.value.length;e++)s.value[e].label=`${s.value[e].univ_name_ch_full} (${s.value[e].univ_name_en})`}));const o=(0,Ie.iH)([]);function k(){o.value=[],a.Url(`dept-list/${i.org_id}`).Get().then((e=>{let t={};for(let a=0;a<e.length;a++)t=e[a],t.label=`[${e[a].college_ch}] ${e[a].dept_ch}`,o.value.push(t)}))}function r(){a.Url("auth/user/info").Get().then((e=>{i.org_id=e.org_id,i.dept_id="U"===e.org_id.substr(0,1)?e.dept_id:"","U"===e.org_id.substr(0,1)&&k(),2===e.permission?(d.org_id=!0,d.student=!0,i.student="U"===e.org_id.substr(0,1)?1:0):1===e.permission?(d.org_id=!0,d.dept_id=!0,d.student=!0,i.student="U"===e.org_id.substr(0,1)?1:0):(d.org_id=!1,d.dept_id=!1,d.student=!1)}))}r();const c=(0,Ie.qj)({unified_id:{filled:!1,unique:!0},name:{filled:!1},org_id:{filled:!1},birthday:{filled:!1}});function _(){for(const t of Object.entries(c))for(const e of Object.entries(t[1]))if(!1===e[1])return void("filled"===e[0]?n.Alert("請確認所有欄位皆已填寫 Please fill in all required fields."):n.Alert("請確認輸入的內容 Please check your input data."));const e=JSON.parse(JSON.stringify(i));a.Url("athlete/add").Post(e).then((e=>{"done"===e.message&&(n.Alert("新增成功 Done"),t.emit("refresh"),t.emit("close_modal"),i.unified_id="",i.name="",i.dept_id="",i.student_id="",i.birthday="",i.phone="")}))}return(0,l.YP)(i,(()=>{c.unified_id.filled=i.unified_id.length>0,c.name.filled=i.name.length>0,c.org_id.filled=i.org_id.length>0,c.birthday.filled=i.birthday.length>0})),{orgList:g,univList:s,deptList:o,data:i,errorList:c,lockList:d,submitAll:_,resetSelect:()=>{i.dept_id=""},changeOrg:e=>{1===e&&"U"!==i.org_id.substring(0,1)&&(i.org_id=""),0===e&&"U"===i.org_id.substring(0,1)&&(i.org_id="")},language:(0,l.Fl)((()=>(0,aa.oR)().state.language))}},components:{"v-select":ta()}}),na=a(89);const ia=(0,na.Z)(la,[["render",Xt],["__scopeId","data-v-035826d4"]]);var da=ia;const ga=e=>((0,l.dD)("data-v-4ada4737"),e=e(),(0,l.Cn)(),e),ua={class:"text-gray-400"},sa=(0,l.Uk)("系所管理員僅可編輯本系選手"),oa=(0,l.Uk)("User with departmental permission can only edit their athletes' data."),ka={class:"athlete-table"},ra={class:"w-[20%]"},ca=(0,l.Uk)("身分證字號*"),_a=(0,l.Uk)("ARC/Unified ID*"),ya={class:"w-[80%]"},wa=(0,l.Uk)("姓名*"),pa=(0,l.Uk)("Name*"),ha=["readonly"],Da=(0,l.Uk)("性別*"),Ua=(0,l.Uk)("Sex*"),ma=["disabled"],qa=ga((()=>(0,l._)("option",{value:"1"},"生理男",-1))),Ha=ga((()=>(0,l._)("option",{value:"2"},"生理女",-1))),ba=[qa,Ha],Ya={key:0},va=(0,l.Uk)("是否為大專"),fa=ga((()=>(0,l._)("br",null,null,-1))),xa=(0,l.Uk)("院校學生*"),Aa=(0,l.Uk)("University"),La=ga((()=>(0,l._)("br",null,null,-1))),Va=(0,l.Uk)("Student*"),Oa=["disabled"],Ca=ga((()=>(0,l._)("span",null,"是",-1))),za=["disabled"],Sa=ga((()=>(0,l._)("span",null,"否",-1))),Ma=(0,l.Uk)("主要學校*"),Ia=(0,l.Uk)("Primary"),Ea=ga((()=>(0,l._)("br",null,null,-1))),Pa=(0,l.Uk)("University*"),$a=(0,l.Uk)("找不到 "),Na=(0,l.Uk)("。"),Wa={key:1,class:"opacity-50"},Ga=(0,l.Uk)("主要系所"),Ra=(0,l.Uk)("Primary"),ja=ga((()=>(0,l._)("br",null,null,-1))),Ta=(0,l.Uk)("Department"),Za={key:0},Fa=(0,l.Uk)("找不到 "),Ja=(0,l.Uk)("。 "),Ba={key:1,class:"opacity-50"},Ka={key:2,class:"opacity-50"},Qa={key:0},Xa=(0,l.Uk)("主要團體*"),el=(0,l.Uk)("Primary"),tl=ga((()=>(0,l._)("br",null,null,-1))),al=(0,l.Uk)("Organization*"),ll=(0,l.Uk)("找不到 "),nl=(0,l.Uk)("。"),il={key:1,class:"opacity-50"},dl=(0,l.Uk)("兼任學校"),gl=(0,l.Uk)("Secondary"),ul=ga((()=>(0,l._)("br",null,null,-1))),sl=(0,l.Uk)("University"),ol=(0,l.Uk)("找不到 "),kl=(0,l.Uk)("。"),rl={key:1,class:"opacity-50"},cl=(0,l.Uk)("兼任系所"),_l=(0,l.Uk)("Secondary"),yl=ga((()=>(0,l._)("br",null,null,-1))),wl=(0,l.Uk)("Department"),pl={key:0},hl=(0,l.Uk)("找不到 "),Dl=(0,l.Uk)("。 "),Ul={key:1,class:"opacity-50"},ml={key:2,class:"opacity-50"},ql={key:0},Hl=(0,l.Uk)("兼任團體"),bl=(0,l.Uk)("Secondary"),Yl=ga((()=>(0,l._)("br",null,null,-1))),vl=(0,l.Uk)("Organization"),fl=(0,l.Uk)("找不到 "),xl=(0,l.Uk)("。"),Al={key:1,class:"opacity-50"},Ll=(0,l.Uk)("身份*"),Vl=(0,l.Uk)("Identity*"),Ol={value:"0"},Cl=(0,l.Uk)("隊員"),zl=(0,l.Uk)("Member"),Sl={value:"1"},Ml=(0,l.Uk)("隊長"),Il=(0,l.Uk)("Captain"),El={key:5},Pl=(0,l.Uk)("學號"),$l=(0,l.Uk)("School ID"),Nl=["readonly"],Wl=(0,l.Uk)("生日*"),Gl=(0,l.Uk)("Birthday*"),Rl=["readonly"],jl=(0,l.Uk)("手機"),Tl=(0,l.Uk)("Phone (TW)"),Zl=["readonly"],Fl={key:0,class:"text-right"},Jl=(0,l.Uk)("刪除"),Bl=(0,l.Uk)("Delete"),Kl=(0,l.Uk)("儲存"),Ql=(0,l.Uk)("Save"),Xl=(0,l.Uk)("編輯"),en=(0,l.Uk)("Edit");function tn(e,t,a,d,g,u){const s=(0,l.up)("v-select");return(0,l.wg)(),(0,l.iD)("div",null,[(0,l._)("div",ua,["ch"==e.language?((0,l.wg)(),(0,l.iD)(l.HY,{key:0},[sa],64)):(0,l.kq)("",!0),"en"==e.language?((0,l.wg)(),(0,l.iD)(l.HY,{key:1},[oa],64)):(0,l.kq)("",!0)]),(0,l._)("table",ka,[(0,l._)("tr",null,[(0,l._)("td",ra,["ch"==e.language?((0,l.wg)(),(0,l.iD)(l.HY,{key:0},[ca],64)):(0,l.kq)("",!0),"en"==e.language?((0,l.wg)(),(0,l.iD)(l.HY,{key:1},[_a],64)):(0,l.kq)("",!0)]),(0,l._)("td",ya,(0,n.zw)(e.data.unified_id),1)]),(0,l._)("tr",null,[(0,l._)("td",null,["ch"==e.language?((0,l.wg)(),(0,l.iD)(l.HY,{key:0},[wa],64)):(0,l.kq)("",!0),"en"==e.language?((0,l.wg)(),(0,l.iD)(l.HY,{key:1},[pa],64)):(0,l.kq)("",!0)]),(0,l._)("td",null,[(0,l.wy)((0,l._)("input",{readonly:!e.isEdit,type:"text","onUpdate:modelValue":t[0]||(t[0]=t=>e.data.name=t)},null,8,ha),[[i.nr,e.data.name]])])]),(0,l._)("tr",null,[(0,l._)("td",null,["ch"==e.language?((0,l.wg)(),(0,l.iD)(l.HY,{key:0},[Da],64)):(0,l.kq)("",!0),"en"==e.language?((0,l.wg)(),(0,l.iD)(l.HY,{key:1},[Ua],64)):(0,l.kq)("",!0)]),(0,l._)("td",null,[(0,l.wy)((0,l._)("select",{disabled:!e.isEdit,"onUpdate:modelValue":t[1]||(t[1]=t=>e.data.sex=t)},ba,8,ma),[[i.bM,e.data.sex]])])]),"O0000"!=e.data.org_id?((0,l.wg)(),(0,l.iD)("tr",Ya,[(0,l._)("td",null,["ch"==e.language?((0,l.wg)(),(0,l.iD)(l.HY,{key:0},[va,fa,xa],64)):(0,l.kq)("",!0),"en"==e.language?((0,l.wg)(),(0,l.iD)(l.HY,{key:1},[Aa,La,Va],64)):(0,l.kq)("",!0)]),(0,l._)("td",null,[(0,l._)("label",null,[(0,l.wy)((0,l._)("input",{type:"radio",value:"1",disabled:e.lockList.student||!e.isEdit,"onUpdate:modelValue":t[2]||(t[2]=t=>e.data.student=t),onChange:t[3]||(t[3]=t=>e.changeOrg(1))},null,40,Oa),[[i.G2,e.data.student]]),Ca]),(0,l._)("label",null,[(0,l.wy)((0,l._)("input",{type:"radio",value:"0",disabled:e.lockList.student||!e.isEdit,"onUpdate:modelValue":t[4]||(t[4]=t=>e.data.student=t),onChange:t[5]||(t[5]=t=>e.changeOrg(0))},null,40,za),[[i.G2,e.data.student]]),Sa])])])):(0,l.kq)("",!0),1==e.data.student?((0,l.wg)(),(0,l.iD)(l.HY,{key:1},[(0,l._)("tr",null,[(0,l._)("td",null,["ch"==e.language?((0,l.wg)(),(0,l.iD)(l.HY,{key:0},[Ma],64)):(0,l.kq)("",!0),"en"==e.language?((0,l.wg)(),(0,l.iD)(l.HY,{key:1},[Ia,Ea,Pa],64)):(0,l.kq)("",!0)]),(0,l._)("td",null,[(0,l.Wm)(s,{class:"cursor-pointer",disabled:e.lockList.org_id||!e.isEdit,clearable:!1,options:e.univList,reduce:e=>e.univ_id,modelValue:e.data.org_id,"onUpdate:modelValue":t[6]||(t[6]=t=>e.data.org_id=t),onInput:e.resetSelect},{"no-options":(0,l.w5)((({search:e,searching:t})=>[t?((0,l.wg)(),(0,l.iD)(l.HY,{key:0},[$a,(0,l._)("em",null,(0,n.zw)(e),1),Na],64)):((0,l.wg)(),(0,l.iD)("div",Wa,"請輸入或選擇學校"))])),_:1},8,["disabled","options","reduce","modelValue","onInput"])])]),(0,l._)("tr",null,[(0,l._)("td",null,["ch"==e.language?((0,l.wg)(),(0,l.iD)(l.HY,{key:0},[Ga],64)):(0,l.kq)("",!0),"en"==e.language?((0,l.wg)(),(0,l.iD)(l.HY,{key:1},[Ra,ja,Ta],64)):(0,l.kq)("",!0)]),(0,l._)("td",null,[e.deptList.length>0?((0,l.wg)(),(0,l.iD)("div",Za,[(0,l.Wm)(s,{class:"cursor-pointer",disabled:e.lockList.dept_id||!e.isEdit,clearable:!1,options:e.deptList,reduce:e=>e.dept_id,modelValue:e.data.dept_id,"onUpdate:modelValue":t[7]||(t[7]=t=>e.data.dept_id=t),label:"label"},{"no-options":(0,l.w5)((({search:t,searching:a})=>[a?((0,l.wg)(),(0,l.iD)(l.HY,{key:0},[Fa,(0,l._)("em",null,(0,n.zw)(t),1),Ja],64)):e.data.org_id.length>0?((0,l.wg)(),(0,l.iD)("div",Ba,"載入中")):((0,l.wg)(),(0,l.iD)("div",Ka,"請選擇學校"))])),_:1},8,["disabled","options","reduce","modelValue"])])):(0,l.kq)("",!0)])])],64)):((0,l.wg)(),(0,l.iD)(l.HY,{key:2},["O0000"!=e.data.org_id?((0,l.wg)(),(0,l.iD)("tr",Qa,[(0,l._)("td",null,["ch"==e.language?((0,l.wg)(),(0,l.iD)(l.HY,{key:0},[Xa],64)):(0,l.kq)("",!0),"en"==e.language?((0,l.wg)(),(0,l.iD)(l.HY,{key:1},[el,tl,al],64)):(0,l.kq)("",!0)]),(0,l._)("td",null,[(0,l.Wm)(s,{class:"cursor-pointer",disabled:e.lockList.org_id||!e.isEdit,clearable:!1,options:e.orgList,reduce:e=>e.org_id,modelValue:e.data.org_id,"onUpdate:modelValue":t[8]||(t[8]=t=>e.data.org_id=t),label:"name_ch_full"},{"no-options":(0,l.w5)((({search:e,searching:t})=>[t?((0,l.wg)(),(0,l.iD)(l.HY,{key:0},[ll,(0,l._)("em",null,(0,n.zw)(e),1),nl],64)):((0,l.wg)(),(0,l.iD)("div",il,"請輸入或選擇團體"))])),_:1},8,["disabled","options","reduce","modelValue"])])])):(0,l.kq)("",!0)],64)),1==e.data.student?((0,l.wg)(),(0,l.iD)(l.HY,{key:3},[(0,l._)("tr",null,[(0,l._)("td",null,["ch"==e.language?((0,l.wg)(),(0,l.iD)(l.HY,{key:0},[dl],64)):(0,l.kq)("",!0),"en"==e.language?((0,l.wg)(),(0,l.iD)(l.HY,{key:1},[gl,ul,sl],64)):(0,l.kq)("",!0)]),(0,l._)("td",null,[(0,l.Wm)(s,{class:"cursor-pointer",disabled:e.lockList.sec_org_id||!e.isEdit,clearable:!1,options:e.univList,reduce:e=>e.univ_id,modelValue:e.data.sec_org_id,"onUpdate:modelValue":t[9]||(t[9]=t=>e.data.sec_org_id=t),onInput:e.resetSelectSec},{"no-options":(0,l.w5)((({search:e,searching:t})=>[t?((0,l.wg)(),(0,l.iD)(l.HY,{key:0},[ol,(0,l._)("em",null,(0,n.zw)(e),1),kl],64)):((0,l.wg)(),(0,l.iD)("div",rl,"請輸入或選擇學校"))])),_:1},8,["disabled","options","reduce","modelValue","onInput"])])]),(0,l._)("tr",null,[(0,l._)("td",null,["ch"==e.language?((0,l.wg)(),(0,l.iD)(l.HY,{key:0},[cl],64)):(0,l.kq)("",!0),"en"==e.language?((0,l.wg)(),(0,l.iD)(l.HY,{key:1},[_l,yl,wl],64)):(0,l.kq)("",!0)]),(0,l._)("td",null,[e.deptList.length>0?((0,l.wg)(),(0,l.iD)("div",pl,[(0,l.Wm)(s,{class:"cursor-pointer",disabled:e.lockList.sec_dept_id||!e.isEdit,clearable:!1,options:e.deptList,reduce:e=>e.dept_id,modelValue:e.data.sec_dept_id,"onUpdate:modelValue":t[10]||(t[10]=t=>e.data.sec_dept_id=t),label:"label"},{"no-options":(0,l.w5)((({search:t,searching:a})=>[a?((0,l.wg)(),(0,l.iD)(l.HY,{key:0},[hl,(0,l._)("em",null,(0,n.zw)(t),1),Dl],64)):e.data.org_id.length>0?((0,l.wg)(),(0,l.iD)("div",Ul,"載入中")):((0,l.wg)(),(0,l.iD)("div",ml,"請選擇學校"))])),_:1},8,["disabled","options","reduce","modelValue"])])):(0,l.kq)("",!0)])])],64)):((0,l.wg)(),(0,l.iD)(l.HY,{key:4},["O0000"!=e.data.org_id?((0,l.wg)(),(0,l.iD)("tr",ql,[(0,l._)("td",null,["ch"==e.language?((0,l.wg)(),(0,l.iD)(l.HY,{key:0},[Hl],64)):(0,l.kq)("",!0),"en"==e.language?((0,l.wg)(),(0,l.iD)(l.HY,{key:1},[bl,Yl,vl],64)):(0,l.kq)("",!0)]),(0,l._)("td",null,[(0,l.Wm)(s,{class:"cursor-pointer",disabled:e.lockList.sec_org_id||!e.isEdit,clearable:!1,options:e.orgList,reduce:e=>e.org_id,modelValue:e.data.sec_org_id,"onUpdate:modelValue":t[11]||(t[11]=t=>e.data.sec_org_id=t),label:"name_ch_full"},{"no-options":(0,l.w5)((({search:e,searching:t})=>[t?((0,l.wg)(),(0,l.iD)(l.HY,{key:0},[fl,(0,l._)("em",null,(0,n.zw)(e),1),xl],64)):((0,l.wg)(),(0,l.iD)("div",Al,"請輸入或選擇團體"))])),_:1},8,["disabled","options","reduce","modelValue"])])])):(0,l.kq)("",!0)],64)),(0,l._)("tr",null,[(0,l._)("td",null,["ch"==e.language?((0,l.wg)(),(0,l.iD)(l.HY,{key:0},[Ll],64)):(0,l.kq)("",!0),"en"==e.language?((0,l.wg)(),(0,l.iD)(l.HY,{key:1},[Vl],64)):(0,l.kq)("",!0)]),(0,l._)("td",null,[(0,l.wy)((0,l._)("select",{"onUpdate:modelValue":t[12]||(t[12]=t=>e.data.role=t)},[(0,l._)("option",Ol,["ch"==e.language?((0,l.wg)(),(0,l.iD)(l.HY,{key:0},[Cl],64)):(0,l.kq)("",!0),"en"==e.language?((0,l.wg)(),(0,l.iD)(l.HY,{key:1},[zl],64)):(0,l.kq)("",!0)]),(0,l._)("option",Sl,["ch"==e.language?((0,l.wg)(),(0,l.iD)(l.HY,{key:0},[Ml],64)):(0,l.kq)("",!0),"en"==e.language?((0,l.wg)(),(0,l.iD)(l.HY,{key:1},[Il],64)):(0,l.kq)("",!0)])],512),[[i.bM,e.data.role]])])]),1==e.data.student?((0,l.wg)(),(0,l.iD)("tr",El,[(0,l._)("td",null,["ch"==e.language?((0,l.wg)(),(0,l.iD)(l.HY,{key:0},[Pl],64)):(0,l.kq)("",!0),"en"==e.language?((0,l.wg)(),(0,l.iD)(l.HY,{key:1},[$l],64)):(0,l.kq)("",!0)]),(0,l._)("td",null,[(0,l.wy)((0,l._)("input",{type:"text",readonly:!e.isEdit,"onUpdate:modelValue":t[13]||(t[13]=t=>e.data.student_id=t)},null,8,Nl),[[i.nr,e.data.student_id]])])])):(0,l.kq)("",!0),(0,l._)("tr",null,[(0,l._)("td",null,["ch"==e.language?((0,l.wg)(),(0,l.iD)(l.HY,{key:0},[Wl],64)):(0,l.kq)("",!0),"en"==e.language?((0,l.wg)(),(0,l.iD)(l.HY,{key:1},[Gl],64)):(0,l.kq)("",!0)]),(0,l._)("td",null,[(0,l.wy)((0,l._)("input",{type:"date",readonly:!e.isEdit,"onUpdate:modelValue":t[14]||(t[14]=t=>e.data.birthday=t)},null,8,Rl),[[i.nr,e.data.birthday]])])]),(0,l._)("tr",null,[(0,l._)("td",null,["ch"==e.language?((0,l.wg)(),(0,l.iD)(l.HY,{key:0},[jl],64)):(0,l.kq)("",!0),"en"==e.language?((0,l.wg)(),(0,l.iD)(l.HY,{key:1},[Tl],64)):(0,l.kq)("",!0)]),(0,l._)("td",null,[(0,l.wy)((0,l._)("input",{type:"text",readonly:!e.isEdit,"onUpdate:modelValue":t[15]||(t[15]=t=>e.data.phone=t)},null,8,Zl),[[i.nr,e.data.phone]])])])]),"lookup"!=e.editType?((0,l.wg)(),(0,l.iD)("div",Fl,[e.isEdit?((0,l.wg)(),(0,l.iD)("button",{key:0,class:"button button-red",onClick:t[16]||(t[16]=(...t)=>e.deleteAll&&e.deleteAll(...t))},["ch"==e.language?((0,l.wg)(),(0,l.iD)(l.HY,{key:0},[Jl],64)):(0,l.kq)("",!0),"en"==e.language?((0,l.wg)(),(0,l.iD)(l.HY,{key:1},[Bl],64)):(0,l.kq)("",!0)])):(0,l.kq)("",!0),e.isEdit?((0,l.wg)(),(0,l.iD)("button",{key:1,class:"button",onClick:t[17]||(t[17]=(...t)=>e.submitAll&&e.submitAll(...t))},["ch"==e.language?((0,l.wg)(),(0,l.iD)(l.HY,{key:0},[Kl],64)):(0,l.kq)("",!0),"en"==e.language?((0,l.wg)(),(0,l.iD)(l.HY,{key:1},[Ql],64)):(0,l.kq)("",!0)])):((0,l.wg)(),(0,l.iD)("button",{key:2,class:"button",onClick:t[18]||(t[18]=t=>e.isEdit=!0)},["ch"==e.language?((0,l.wg)(),(0,l.iD)(l.HY,{key:0},[Xl],64)):(0,l.kq)("",!0),"en"==e.language?((0,l.wg)(),(0,l.iD)(l.HY,{key:1},[en],64)):(0,l.kq)("",!0)]))])):(0,l.kq)("",!0)])}var an=(0,l.aZ)({props:["athleteData","editType"],setup(e,t){const a=new Pe.L,n=new Pe._,i=(0,aa.oR)(),d=(0,Ie.iH)(!1),g=(0,Ie.iH)(e.editType),u=(0,Ie.qj)({unified_id:e.athleteData.unified_id,name:e.athleteData.name,org_id:e.athleteData.org_id,sec_org_id:e.athleteData.sec_org_id,dept_id:e.athleteData.dept_id,sec_dept_id:e.athleteData.sec_dept_id,sex:Number(e.athleteData.sex),student:Number(e.athleteData.student),student_id:e.athleteData.student_id,birthday:e.athleteData.birthday,phone:e.athleteData.phone,role:Number(e.athleteData.role),avatar:e.athleteData.avatar,remark:e.athleteData.remark}),s=(0,Ie.qj)({org_id:!1,sec_org_id:!1,dept_id:!1,sec_dept_id:!1,student:!1}),o=(0,Ie.iH)([]);function k(){a.Url("organization/list").GetAll(o)}k();const r=(0,Ie.iH)([]);a.Url("univ-list").GetAll(r).then((()=>{for(let e=0;e<r.value.length;e++)r.value[e].label=`${r.value[e].univ_name_ch_full} (${r.value[e].univ_name_en})`}));const c=(0,Ie.iH)([]);function _(){c.value=[],a.Url(`dept-list/${u.org_id}`).Get().then((e=>{let t={};for(let a=0;a<e.length;a++)t=e[a],t.label=`[${e[a].college_ch}] ${e[a].dept_ch}`,c.value.push(t)}))}function y(){a.Url("auth/user/info").Get().then((e=>{"U"===e.org_id.substr(0,1)&&_(),2===e.permission?(s.org_id=!0,s.student=!0,u.student="U"===e.org_id.substr(0,1)?1:0):1===e.permission?(s.org_id=!0,s.sec_org_id=!0,s.dept_id=!0,s.student=!0,u.student="U"===e.org_id.substr(0,1)?1:0,u.sec_org_id=u.org_id):(s.org_id=!1,s.sec_org_id=!1,s.dept_id=!1,s.sec_dept_id=!1,s.student=!1)}))}y();const w=(0,Ie.qj)({name:{filled:!1},org_id:{filled:!1},birthday:{filled:!1}});function p(){w.name.filled=u.name.length>0,w.org_id.filled=u.org_id.length>0,w.birthday.filled=u.birthday.length>0}function h(){for(const e of Object.entries(w))for(const t of Object.entries(e[1]))if(!1===t[1])return void("filled"===t[0]?n.Alert("請確認所有欄位皆已填寫 Please fill in all required fields."):n.Alert("請確認輸入的內容 Please check your input data."));if(null!==u.sec_org_id&&u.org_id===u.sec_org_id&&u.dept_id===u.sec_dept_id)return void n.Alert("兼任校系不得與主要校系相同 Please select another university/department.");const l=JSON.parse(JSON.stringify(u));a.Url("athlete/edit").Patch(e.athleteData.athlete_id,l).then((e=>{"done"===e.message&&(n.Alert("編輯成功 Done"),t.emit("refresh"),t.emit("close_modal"),u.unified_id="",u.name="",u.dept_id="",u.student_id="",u.birthday="",u.phone="")}))}function D(){n.Confirm("確定要刪除嗎？ Are you sure?")}p(),(0,l.YP)(u,(()=>{p()}));const U=(0,l.Fl)((()=>i.state.confirmAnswer));return(0,l.YP)(U,(l=>{"y"===l&&a.Url("athlete/delete").Delete(e.athleteData.athlete_id).then((e=>{"done"===e.message&&(n.Alert("已刪除選手 Done"),t.emit("close_modal"),t.emit("refresh"))})),n.ResetConfirm()})),{orgList:o,univList:r,deptList:c,data:u,errorList:w,lockList:s,submitAll:h,deleteAll:D,resetSelect:()=>{u.dept_id=""},resetSelectSec:()=>{u.sec_dept_id=""},changeOrg:e=>{1===e&&"U"!==u.org_id.substring(0,1)&&(u.org_id=""),0===e&&"U"===u.org_id.substring(0,1)&&(u.org_id="")},isEdit:d,displayType:g,language:(0,l.Fl)((()=>(0,aa.oR)().state.language))}},components:{"v-select":ta()}});const ln=(0,na.Z)(an,[["render",tn],["__scopeId","data-v-4ada4737"]]);var nn=ln,dn=(0,l.aZ)({setup(){const e=new Pe.L,t=(0,Ie.iH)(0),a=(0,Ie.iH)({}),n=(0,Ie.iH)({}),i=(0,Ie.iH)({}),d=(0,Ie.iH)(void 0),g=(0,Ie.iH)([]);function u(){2===i.value.permission?e.Url(`athlete/get/org/${i.value.org_id}/second`).GetAll(g):e.Url(`athlete/get/org/${i.value.org_id}/second/${i.value.dept_id}`).GetAll(g)}function s(){e.Url("auth/user/info").GetAll(i).then((()=>{u()}))}return s(),{displayModal:t,gameData:n,athleteList:g,getAthleteList:u,selected:a,userData:i,editAthlete:(e,l)=>{a.value=e,t.value=2,d.value=l},editType:d,language:(0,l.Fl)((()=>(0,aa.oR)().state.language))}},components:{SmallModal:Ee.Z,AddAthlete:da,EditAthlete:nn}});const gn=(0,na.Z)(dn,[["render",Me],["__scopeId","data-v-4d452778"]]);var un=gn}}]);
//# sourceMappingURL=670.306bd73a.js.map