"use strict";(self["webpackChunkregistration"]=self["webpackChunkregistration"]||[]).push([[788],{9367:function(e,t,l){l.d(t,{Z:function(){return _}});var a=l(3396),n=l(9242);const i={class:"fixed z-10 left-0 top-0 w-full h-full overflow-scroll bg-black bg-opacity-40"},d={class:"box-border w-inherit sm:w-sm bg-white relative mx-auto w-11/12 sm:w-3/4 md:w-2/3 lg:w-1/2 my-12 p-5 sm:px-10 sm:py-5 rounded",style:{"min-height":"100px"}},g={class:"flex items-center"},u={class:"flex-grow"};function s(e,t,l,s,o,k){return(0,a.wg)(),(0,a.j4)(n.uT,{name:"modal"},{default:(0,a.w5)((()=>[(0,a._)("div",i,[(0,a._)("div",d,[(0,a._)("div",g,[(0,a._)("div",u,[(0,a.WI)(e.$slots,"title")]),(0,a._)("div",{class:"text-4xl text-gray-300 hover:text-gray-500 cursor-pointer duration-300 font-light",onClick:t[0]||(t[0]=(...t)=>e.closeModal&&e.closeModal(...t))},"×")]),(0,a.WI)(e.$slots,"content")])])])),_:3})}var o=(0,a.aZ)({setup(e,t){function l(){t.emit("close_modal")}return{closeModal:l}}}),k=l(89);const r=(0,k.Z)(o,[["render",s]]);var _=r},1788:function(e,t,l){l.r(t),l.d(t,{default:function(){return un}});var a=l(3396),n=l(7139),i=l(9242);const d=e=>((0,a.dD)("data-v-4d452778"),e=e(),(0,a.Cn)(),e),g={class:"mx-auto w-full p-5 sm:w-11/12 md:w-4/5 lg:w-2/3 xl:w-1/2"},u={class:"box-section"},s=(0,a.Uk)("回上頁"),o=(0,a.Uk)("Back"),k={class:"box-section"},r={class:"title"},_=(0,a.Uk)("本單位選手列表"),c=(0,a.Uk)("Athletes Of This Organization / Depratment"),y=d((()=>(0,a._)("hr",null,null,-1))),w={class:"athlete-list"},h={class:"w-[20%]"},p=(0,a.Uk)("身分證字號"),D=(0,a.Uk)("ARC/Unified ID"),U={key:0,class:"w-[20%]"},m=(0,a.Uk)("學校/團體"),q=(0,a.Uk)("Organization"),H={key:1,class:"w-[20%]"},b=(0,a.Uk)("系所"),Y=(0,a.Uk)("Department"),v={class:"w-[15%]"},f=(0,a.Uk)("姓名"),x=(0,a.Uk)("Name"),A={class:"w-[10%]"},L=(0,a.Uk)("性別"),V=(0,a.Uk)("Sex"),O={class:"w-[15%]"},C=(0,a.Uk)("新增"),z=(0,a.Uk)("Add"),M={key:0},S={key:0,class:"w-[20%] truncate max-w-0"},I={key:1,class:"w-[20%] truncate max-w-0"},E={class:"w-[15%] truncate max-w-0"},$={key:0},P=(0,a.Uk)("男"),G=(0,a.Uk)("Men"),N={key:1},W=(0,a.Uk)("女"),R=(0,a.Uk)("Women"),j=["onClick"],T=(0,a.Uk)("顯示"),Z=(0,a.Uk)("More"),F={key:0,class:"box-section"},B={class:"title"},J=(0,a.Uk)("跨單位選手列表"),K=(0,a.Uk)("Interorganizational / Interdepartmental Athletes"),Q=d((()=>(0,a._)("hr",null,null,-1))),X={class:"athlete-list"},ee={class:"w-[20%]"},te=(0,a.Uk)("身分證字號"),le=(0,a.Uk)("ARC/Unified ID"),ae={key:0,class:"w-[20%]"},ne=(0,a.Uk)("學校/團體"),ie=(0,a.Uk)("Organization"),de={key:1,class:"w-[20%]"},ge=(0,a.Uk)("系所"),ue=(0,a.Uk)("Department"),se={class:"w-[15%]"},oe=(0,a.Uk)("姓名"),ke=(0,a.Uk)("Name"),re={class:"w-[10%]"},_e=(0,a.Uk)("性別"),ce=(0,a.Uk)("Sex"),ye=d((()=>(0,a._)("th",{class:"w-[15%]"},null,-1))),we={class:"w-[20%] truncate max-w-0"},he={class:"w-[20%] truncate max-w-0"},pe={class:"w-[15%] truncate max-w-0"},De={key:0},Ue=(0,a.Uk)("男"),me=(0,a.Uk)("Men"),qe={key:1},He=(0,a.Uk)("女"),be=(0,a.Uk)("Women"),Ye=["onClick"],ve=(0,a.Uk)("顯示"),fe=(0,a.Uk)("More"),xe={class:"text-2xl"},Ae={key:0},Le=(0,a.Uk)("新增選手"),Ve=(0,a.Uk)("New Athlete"),Oe={key:1},Ce=(0,a.Uk)("選手資訊"),ze=(0,a.Uk)("Athlete Info"),Me=d((()=>(0,a._)("hr",{class:"my-2"},null,-1)));function Se(e,t,l,d,Se,Ie){const Ee=(0,a.up)("AddAthlete"),$e=(0,a.up)("EditAthlete"),Pe=(0,a.up)("SmallModal");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a._)("div",g,[(0,a._)("div",u,[(0,a._)("div",{class:"text-xl text-gray-400 cursor-pointer",onClick:t[0]||(t[0]=t=>e.$router.go(-1))},["ch"==e.language?((0,a.wg)(),(0,a.iD)(a.HY,{key:0},[s],64)):(0,a.kq)("",!0),"en"==e.language?((0,a.wg)(),(0,a.iD)(a.HY,{key:1},[o],64)):(0,a.kq)("",!0)])]),(0,a._)("div",k,[(0,a._)("div",r,["ch"==e.language?((0,a.wg)(),(0,a.iD)(a.HY,{key:0},[_],64)):(0,a.kq)("",!0),"en"==e.language?((0,a.wg)(),(0,a.iD)(a.HY,{key:1},[c],64)):(0,a.kq)("",!0)]),y,(0,a._)("table",w,[(0,a._)("tr",null,[(0,a._)("th",h,["ch"==e.language?((0,a.wg)(),(0,a.iD)(a.HY,{key:0},[p],64)):(0,a.kq)("",!0),"en"==e.language?((0,a.wg)(),(0,a.iD)(a.HY,{key:1},[D],64)):(0,a.kq)("",!0)]),"O0000"!=e.userData.org_id?((0,a.wg)(),(0,a.iD)("th",U,["ch"==e.language?((0,a.wg)(),(0,a.iD)(a.HY,{key:0},[m],64)):(0,a.kq)("",!0),"en"==e.language?((0,a.wg)(),(0,a.iD)(a.HY,{key:1},[q],64)):(0,a.kq)("",!0)])):(0,a.kq)("",!0),"O0000"!=e.userData.org_id?((0,a.wg)(),(0,a.iD)("th",H,["ch"==e.language?((0,a.wg)(),(0,a.iD)(a.HY,{key:0},[b],64)):(0,a.kq)("",!0),"en"==e.language?((0,a.wg)(),(0,a.iD)(a.HY,{key:1},[Y],64)):(0,a.kq)("",!0)])):(0,a.kq)("",!0),(0,a._)("th",v,["ch"==e.language?((0,a.wg)(),(0,a.iD)(a.HY,{key:0},[f],64)):(0,a.kq)("",!0),"en"==e.language?((0,a.wg)(),(0,a.iD)(a.HY,{key:1},[x],64)):(0,a.kq)("",!0)]),(0,a._)("th",A,["ch"==e.language?((0,a.wg)(),(0,a.iD)(a.HY,{key:0},[L],64)):(0,a.kq)("",!0),"en"==e.language?((0,a.wg)(),(0,a.iD)(a.HY,{key:1},[V],64)):(0,a.kq)("",!0)]),(0,a._)("th",O,[(0,a._)("button",{class:"button",onClick:t[1]||(t[1]=t=>e.displayModal=1)},["ch"==e.language?((0,a.wg)(),(0,a.iD)(a.HY,{key:0},[C],64)):(0,a.kq)("",!0),"en"==e.language?((0,a.wg)(),(0,a.iD)(a.HY,{key:1},[z],64)):(0,a.kq)("",!0)])])]),((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.athleteList.home,((t,l)=>((0,a.wg)(),(0,a.iD)(a.HY,{key:l},["O0000"!=e.userData.org_id||"O0000"==e.userData.org_id&&t.add_by==e.userData.u_id?((0,a.wg)(),(0,a.iD)("tr",M,[(0,a._)("td",null,(0,n.zw)(t.unified_id),1),"O0000"!=e.userData.org_id?((0,a.wg)(),(0,a.iD)("td",S,(0,n.zw)(t.org_ch),1)):(0,a.kq)("",!0),"O0000"!=e.userData.org_id?((0,a.wg)(),(0,a.iD)("td",I,(0,n.zw)(t.dept_ch),1)):(0,a.kq)("",!0),(0,a._)("td",E,(0,n.zw)(t.name),1),(0,a._)("td",null,[1==t.sex?((0,a.wg)(),(0,a.iD)("span",$,["ch"==e.language?((0,a.wg)(),(0,a.iD)(a.HY,{key:0},[P],64)):(0,a.kq)("",!0),"en"==e.language?((0,a.wg)(),(0,a.iD)(a.HY,{key:1},[G],64)):(0,a.kq)("",!0)])):(0,a.kq)("",!0),2==t.sex?((0,a.wg)(),(0,a.iD)("span",N,["ch"==e.language?((0,a.wg)(),(0,a.iD)(a.HY,{key:0},[W],64)):(0,a.kq)("",!0),"en"==e.language?((0,a.wg)(),(0,a.iD)(a.HY,{key:1},[R],64)):(0,a.kq)("",!0)])):(0,a.kq)("",!0)]),(0,a._)("td",null,[(0,a._)("button",{class:"button",onClick:l=>e.editAthlete(t)},["ch"==e.language?((0,a.wg)(),(0,a.iD)(a.HY,{key:0},[T],64)):(0,a.kq)("",!0),"en"==e.language?((0,a.wg)(),(0,a.iD)(a.HY,{key:1},[Z],64)):(0,a.kq)("",!0)],8,j)])])):(0,a.kq)("",!0)],64)))),128))])]),"O0000"!=e.userData.org_id?((0,a.wg)(),(0,a.iD)("div",F,[(0,a._)("div",B,["ch"==e.language?((0,a.wg)(),(0,a.iD)(a.HY,{key:0},[J],64)):(0,a.kq)("",!0),"en"==e.language?((0,a.wg)(),(0,a.iD)(a.HY,{key:1},[K],64)):(0,a.kq)("",!0)]),Q,(0,a._)("table",X,[(0,a._)("tr",null,[(0,a._)("th",ee,["ch"==e.language?((0,a.wg)(),(0,a.iD)(a.HY,{key:0},[te],64)):(0,a.kq)("",!0),"en"==e.language?((0,a.wg)(),(0,a.iD)(a.HY,{key:1},[le],64)):(0,a.kq)("",!0)]),"O0000"!=e.userData.org_id?((0,a.wg)(),(0,a.iD)("th",ae,["ch"==e.language?((0,a.wg)(),(0,a.iD)(a.HY,{key:0},[ne],64)):(0,a.kq)("",!0),"en"==e.language?((0,a.wg)(),(0,a.iD)(a.HY,{key:1},[ie],64)):(0,a.kq)("",!0)])):(0,a.kq)("",!0),"O0000"!=e.userData.org_id?((0,a.wg)(),(0,a.iD)("th",de,["ch"==e.language?((0,a.wg)(),(0,a.iD)(a.HY,{key:0},[ge],64)):(0,a.kq)("",!0),"en"==e.language?((0,a.wg)(),(0,a.iD)(a.HY,{key:1},[ue],64)):(0,a.kq)("",!0)])):(0,a.kq)("",!0),(0,a._)("th",se,["ch"==e.language?((0,a.wg)(),(0,a.iD)(a.HY,{key:0},[oe],64)):(0,a.kq)("",!0),"en"==e.language?((0,a.wg)(),(0,a.iD)(a.HY,{key:1},[ke],64)):(0,a.kq)("",!0)]),(0,a._)("th",re,["ch"==e.language?((0,a.wg)(),(0,a.iD)(a.HY,{key:0},[_e],64)):(0,a.kq)("",!0),"en"==e.language?((0,a.wg)(),(0,a.iD)(a.HY,{key:1},[ce],64)):(0,a.kq)("",!0)]),ye]),((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.athleteList.other,((t,l)=>((0,a.wg)(),(0,a.iD)("tr",{key:l},[(0,a._)("td",null,(0,n.zw)(t.unified_id),1),(0,a._)("td",we,(0,n.zw)(t[`org_${e.language}`]),1),(0,a._)("td",he,(0,n.zw)(t[`dept_${e.language}`]),1),(0,a._)("td",pe,(0,n.zw)(t.name),1),(0,a._)("td",null,[1==t.sex?((0,a.wg)(),(0,a.iD)("span",De,["ch"==e.language?((0,a.wg)(),(0,a.iD)(a.HY,{key:0},[Ue],64)):(0,a.kq)("",!0),"en"==e.language?((0,a.wg)(),(0,a.iD)(a.HY,{key:1},[me],64)):(0,a.kq)("",!0)])):(0,a.kq)("",!0),2==t.sex?((0,a.wg)(),(0,a.iD)("span",qe,["ch"==e.language?((0,a.wg)(),(0,a.iD)(a.HY,{key:0},[He],64)):(0,a.kq)("",!0),"en"==e.language?((0,a.wg)(),(0,a.iD)(a.HY,{key:1},[be],64)):(0,a.kq)("",!0)])):(0,a.kq)("",!0)]),(0,a._)("td",null,[(0,a._)("button",{class:"button",onClick:l=>e.editAthlete(t,"lookup")},["ch"==e.language?((0,a.wg)(),(0,a.iD)(a.HY,{key:0},[ve],64)):(0,a.kq)("",!0),"en"==e.language?((0,a.wg)(),(0,a.iD)(a.HY,{key:1},[fe],64)):(0,a.kq)("",!0)],8,Ye)])])))),128))])])):(0,a.kq)("",!0)]),(0,a.wy)((0,a.Wm)(Pe,{onClose_modal:t[4]||(t[4]=t=>e.displayModal=0)},{title:(0,a.w5)((()=>[(0,a._)("div",xe,[1==e.displayModal?((0,a.wg)(),(0,a.iD)("div",Ae,["ch"==e.language?((0,a.wg)(),(0,a.iD)(a.HY,{key:0},[Le],64)):(0,a.kq)("",!0),"en"==e.language?((0,a.wg)(),(0,a.iD)(a.HY,{key:1},[Ve],64)):(0,a.kq)("",!0)])):(0,a.kq)("",!0),2==e.displayModal?((0,a.wg)(),(0,a.iD)("div",Oe,["ch"==e.language?((0,a.wg)(),(0,a.iD)(a.HY,{key:0},[Ce],64)):(0,a.kq)("",!0),"en"==e.language?((0,a.wg)(),(0,a.iD)(a.HY,{key:1},[ze],64)):(0,a.kq)("",!0)])):(0,a.kq)("",!0)])])),content:(0,a.w5)((()=>[Me,1==e.displayModal?((0,a.wg)(),(0,a.j4)(Ee,{key:0,onClose_modal:t[2]||(t[2]=t=>e.displayModal=0),onRefresh:e.getAthleteList},null,8,["onRefresh"])):(0,a.kq)("",!0),2==e.displayModal?((0,a.wg)(),(0,a.j4)($e,{key:1,"edit-type":e.editType,onClose_modal:t[3]||(t[3]=t=>e.displayModal=0),onRefresh:e.getAthleteList,"athlete-data":e.selected},null,8,["edit-type","onRefresh","athlete-data"])):(0,a.kq)("",!0)])),_:1},512),[[i.F8,e.displayModal>0]])],64)}var Ie=l(4870),Ee=l(9367),$e=l(3927);const Pe=e=>((0,a.dD)("data-v-03d62560"),e=e(),(0,a.Cn)(),e),Ge={class:"athlete-table"},Ne={class:"w-[20%]"},We=(0,a.Uk)("身分證字號*"),Re=(0,a.Uk)("ARC/Unified ID*"),je={class:"w-[80%]"},Te={key:0,class:"warning"},Ze=(0,a.Uk)("姓名*"),Fe=(0,a.Uk)("Name*"),Be=(0,a.Uk)("性別*"),Je=(0,a.Uk)("Sex*"),Ke={value:"1"},Qe=(0,a.Uk)("生理男"),Xe=(0,a.Uk)("Male"),et={value:"2"},tt=(0,a.Uk)("生理女"),lt=(0,a.Uk)("Female"),at={key:0},nt=(0,a.Uk)("是否為大專"),it=Pe((()=>(0,a._)("br",null,null,-1))),dt=(0,a.Uk)("院校學生*"),gt=(0,a.Uk)("University"),ut=Pe((()=>(0,a._)("br",null,null,-1))),st=(0,a.Uk)("Student*"),ot=["disabled"],kt=(0,a.Uk)("是"),rt=(0,a.Uk)("Yes"),_t=["disabled"],ct=(0,a.Uk)("否"),yt=(0,a.Uk)("No"),wt=(0,a.Uk)("學校*"),ht=(0,a.Uk)("University*"),pt=(0,a.Uk)("找不到 "),Dt=(0,a.Uk)(" Not found"),Ut={key:1,class:"opacity-50"},mt=(0,a.Uk)("系所"),qt=(0,a.Uk)("Department"),Ht={key:0},bt=(0,a.Uk)("找不到 "),Yt=(0,a.Uk)(" Not found "),vt={key:1,class:"opacity-50"},ft={key:2,class:"opacity-50"},xt={key:0},At=(0,a.Uk)("團體*"),Lt=(0,a.Uk)("Organization*"),Vt=(0,a.Uk)("找不到 "),Ot=(0,a.Uk)(" Not found"),Ct={key:1,class:"opacity-50"},zt={key:3},Mt=(0,a.Uk)("身份*"),St=(0,a.Uk)("Identity*"),It={value:"0"},Et=(0,a.Uk)("隊員"),$t=(0,a.Uk)("Member"),Pt={value:"1"},Gt=(0,a.Uk)("隊長"),Nt=(0,a.Uk)("Captain"),Wt={key:4},Rt=(0,a.Uk)("學號"),jt=(0,a.Uk)("School ID"),Tt=(0,a.Uk)("生日*"),Zt=(0,a.Uk)("Birthday"),Ft=(0,a.Uk)("手機"),Bt=(0,a.Uk)("Phone (TW)"),Jt={class:"text-right"},Kt=(0,a.Uk)("新增"),Qt=(0,a.Uk)("Add");function Xt(e,t,l,d,g,u){const s=(0,a.up)("v-select");return(0,a.wg)(),(0,a.iD)("div",null,[(0,a._)("table",Ge,[(0,a._)("tr",null,[(0,a._)("td",Ne,["ch"==e.language?((0,a.wg)(),(0,a.iD)(a.HY,{key:0},[We],64)):(0,a.kq)("",!0),"en"==e.language?((0,a.wg)(),(0,a.iD)(a.HY,{key:1},[Re],64)):(0,a.kq)("",!0)]),(0,a._)("td",je,[(0,a.wy)((0,a._)("input",{type:"text",maxlength:"10","onUpdate:modelValue":t[0]||(t[0]=t=>e.data.unified_id=t),onBlur:t[1]||(t[1]=(...t)=>e.exist&&e.exist(...t))},null,544),[[i.nr,e.data.unified_id]]),e.data.unified_id.length>0&&!e.errorList.unified_id.unique?((0,a.wg)(),(0,a.iD)("div",Te,"身分證字號已存在 ARC/Unified ID has been taken.")):(0,a.kq)("",!0)])]),(0,a._)("tr",null,[(0,a._)("td",null,["ch"==e.language?((0,a.wg)(),(0,a.iD)(a.HY,{key:0},[Ze],64)):(0,a.kq)("",!0),"en"==e.language?((0,a.wg)(),(0,a.iD)(a.HY,{key:1},[Fe],64)):(0,a.kq)("",!0)]),(0,a._)("td",null,[(0,a.wy)((0,a._)("input",{type:"text","onUpdate:modelValue":t[2]||(t[2]=t=>e.data.name=t)},null,512),[[i.nr,e.data.name]])])]),(0,a._)("tr",null,[(0,a._)("td",null,["ch"==e.language?((0,a.wg)(),(0,a.iD)(a.HY,{key:0},[Be],64)):(0,a.kq)("",!0),"en"==e.language?((0,a.wg)(),(0,a.iD)(a.HY,{key:1},[Je],64)):(0,a.kq)("",!0)]),(0,a._)("td",null,[(0,a.wy)((0,a._)("select",{"onUpdate:modelValue":t[3]||(t[3]=t=>e.data.sex=t)},[(0,a._)("option",Ke,["ch"==e.language?((0,a.wg)(),(0,a.iD)(a.HY,{key:0},[Qe],64)):(0,a.kq)("",!0),"en"==e.language?((0,a.wg)(),(0,a.iD)(a.HY,{key:1},[Xe],64)):(0,a.kq)("",!0)]),(0,a._)("option",et,["ch"==e.language?((0,a.wg)(),(0,a.iD)(a.HY,{key:0},[tt],64)):(0,a.kq)("",!0),"en"==e.language?((0,a.wg)(),(0,a.iD)(a.HY,{key:1},[lt],64)):(0,a.kq)("",!0)])],512),[[i.bM,e.data.sex]])])]),"O0000"!=e.data.org_id?((0,a.wg)(),(0,a.iD)("tr",at,[(0,a._)("td",null,["ch"==e.language?((0,a.wg)(),(0,a.iD)(a.HY,{key:0},[nt,it,dt],64)):(0,a.kq)("",!0),"en"==e.language?((0,a.wg)(),(0,a.iD)(a.HY,{key:1},[gt,ut,st],64)):(0,a.kq)("",!0)]),(0,a._)("td",null,[(0,a._)("label",null,[(0,a.wy)((0,a._)("input",{type:"radio",value:"1",disabled:e.lockList.student,"onUpdate:modelValue":t[4]||(t[4]=t=>e.data.student=t),onChange:t[5]||(t[5]=t=>e.changeOrg(1))},null,40,ot),[[i.G2,e.data.student]]),(0,a._)("span",null,["ch"==e.language?((0,a.wg)(),(0,a.iD)(a.HY,{key:0},[kt],64)):(0,a.kq)("",!0),"en"==e.language?((0,a.wg)(),(0,a.iD)(a.HY,{key:1},[rt],64)):(0,a.kq)("",!0)])]),(0,a._)("label",null,[(0,a.wy)((0,a._)("input",{type:"radio",value:"0",disabled:e.lockList.student,"onUpdate:modelValue":t[6]||(t[6]=t=>e.data.student=t),onChange:t[7]||(t[7]=t=>e.changeOrg(0))},null,40,_t),[[i.G2,e.data.student]]),(0,a._)("span",null,["ch"==e.language?((0,a.wg)(),(0,a.iD)(a.HY,{key:0},[ct],64)):(0,a.kq)("",!0),"en"==e.language?((0,a.wg)(),(0,a.iD)(a.HY,{key:1},[yt],64)):(0,a.kq)("",!0)])])])])):(0,a.kq)("",!0),1==e.data.student?((0,a.wg)(),(0,a.iD)(a.HY,{key:1},[(0,a._)("tr",null,[(0,a._)("td",null,["ch"==e.language?((0,a.wg)(),(0,a.iD)(a.HY,{key:0},[wt],64)):(0,a.kq)("",!0),"en"==e.language?((0,a.wg)(),(0,a.iD)(a.HY,{key:1},[ht],64)):(0,a.kq)("",!0)]),(0,a._)("td",null,[(0,a.Wm)(s,{class:"cursor-pointer",disabled:e.lockList.org_id,clearable:!1,options:e.univList,reduce:e=>e.univ_id,modelValue:e.data.org_id,"onUpdate:modelValue":t[8]||(t[8]=t=>e.data.org_id=t),onInput:e.resetSelect},{"no-options":(0,a.w5)((({search:e,searching:t})=>[t?((0,a.wg)(),(0,a.iD)(a.HY,{key:0},[pt,(0,a._)("em",null,(0,n.zw)(e),1),Dt],64)):((0,a.wg)(),(0,a.iD)("div",Ut,"請輸入或選擇學校 Please select your university."))])),_:1},8,["disabled","options","reduce","modelValue","onInput"])])]),(0,a._)("tr",null,[(0,a._)("td",null,["ch"==e.language?((0,a.wg)(),(0,a.iD)(a.HY,{key:0},[mt],64)):(0,a.kq)("",!0),"en"==e.language?((0,a.wg)(),(0,a.iD)(a.HY,{key:1},[qt],64)):(0,a.kq)("",!0)]),(0,a._)("td",null,[e.deptList.length>0?((0,a.wg)(),(0,a.iD)("div",Ht,[(0,a.Wm)(s,{class:"cursor-pointer",disabled:e.lockList.dept_id,clearable:!1,options:e.deptList,reduce:e=>e.dept_id,modelValue:e.data.dept_id,"onUpdate:modelValue":t[9]||(t[9]=t=>e.data.dept_id=t),label:"label"},{"no-options":(0,a.w5)((({search:t,searching:l})=>[l?((0,a.wg)(),(0,a.iD)(a.HY,{key:0},[bt,(0,a._)("em",null,(0,n.zw)(t),1),Yt],64)):e.data.org_id.length>0?((0,a.wg)(),(0,a.iD)("div",vt,"載入中 Loading")):((0,a.wg)(),(0,a.iD)("div",ft,"請選擇學校 Please select your university."))])),_:1},8,["disabled","options","reduce","modelValue"])])):(0,a.kq)("",!0)])])],64)):((0,a.wg)(),(0,a.iD)(a.HY,{key:2},["O0000"!=e.data.org_id?((0,a.wg)(),(0,a.iD)("tr",xt,[(0,a._)("td",null,["ch"==e.language?((0,a.wg)(),(0,a.iD)(a.HY,{key:0},[At],64)):(0,a.kq)("",!0),"en"==e.language?((0,a.wg)(),(0,a.iD)(a.HY,{key:1},[Lt],64)):(0,a.kq)("",!0)]),(0,a._)("td",null,[(0,a.Wm)(s,{class:"cursor-pointer",disabled:e.lockList.org_id,clearable:!1,options:e.orgList,reduce:e=>e.org_id,modelValue:e.data.org_id,"onUpdate:modelValue":t[10]||(t[10]=t=>e.data.org_id=t),label:"name_ch_full"},{"no-options":(0,a.w5)((({search:e,searching:t})=>[t?((0,a.wg)(),(0,a.iD)(a.HY,{key:0},[Vt,(0,a._)("em",null,(0,n.zw)(e),1),Ot],64)):((0,a.wg)(),(0,a.iD)("div",Ct,"請輸入或選擇團體 Please select your organization."))])),_:1},8,["disabled","options","reduce","modelValue"])])])):(0,a.kq)("",!0)],64)),"O0000"!=e.data.org_id?((0,a.wg)(),(0,a.iD)("tr",zt,[(0,a._)("td",null,["ch"==e.language?((0,a.wg)(),(0,a.iD)(a.HY,{key:0},[Mt],64)):(0,a.kq)("",!0),"en"==e.language?((0,a.wg)(),(0,a.iD)(a.HY,{key:1},[St],64)):(0,a.kq)("",!0)]),(0,a._)("td",null,[(0,a.wy)((0,a._)("select",{"onUpdate:modelValue":t[11]||(t[11]=t=>e.data.role=t)},[(0,a._)("option",It,["ch"==e.language?((0,a.wg)(),(0,a.iD)(a.HY,{key:0},[Et],64)):(0,a.kq)("",!0),"en"==e.language?((0,a.wg)(),(0,a.iD)(a.HY,{key:1},[$t],64)):(0,a.kq)("",!0)]),(0,a._)("option",Pt,["ch"==e.language?((0,a.wg)(),(0,a.iD)(a.HY,{key:0},[Gt],64)):(0,a.kq)("",!0),"en"==e.language?((0,a.wg)(),(0,a.iD)(a.HY,{key:1},[Nt],64)):(0,a.kq)("",!0)])],512),[[i.bM,e.data.role]])])])):(0,a.kq)("",!0),1==e.data.student?((0,a.wg)(),(0,a.iD)("tr",Wt,[(0,a._)("td",null,["ch"==e.language?((0,a.wg)(),(0,a.iD)(a.HY,{key:0},[Rt],64)):(0,a.kq)("",!0),"en"==e.language?((0,a.wg)(),(0,a.iD)(a.HY,{key:1},[jt],64)):(0,a.kq)("",!0)]),(0,a._)("td",null,[(0,a.wy)((0,a._)("input",{type:"text","onUpdate:modelValue":t[12]||(t[12]=t=>e.data.student_id=t)},null,512),[[i.nr,e.data.student_id]])])])):(0,a.kq)("",!0),(0,a._)("tr",null,[(0,a._)("td",null,["ch"==e.language?((0,a.wg)(),(0,a.iD)(a.HY,{key:0},[Tt],64)):(0,a.kq)("",!0),"en"==e.language?((0,a.wg)(),(0,a.iD)(a.HY,{key:1},[Zt],64)):(0,a.kq)("",!0)]),(0,a._)("td",null,[(0,a.wy)((0,a._)("input",{type:"date","onUpdate:modelValue":t[13]||(t[13]=t=>e.data.birthday=t)},null,512),[[i.nr,e.data.birthday]])])]),(0,a._)("tr",null,[(0,a._)("td",null,["ch"==e.language?((0,a.wg)(),(0,a.iD)(a.HY,{key:0},[Ft],64)):(0,a.kq)("",!0),"en"==e.language?((0,a.wg)(),(0,a.iD)(a.HY,{key:1},[Bt],64)):(0,a.kq)("",!0)]),(0,a._)("td",null,[(0,a.wy)((0,a._)("input",{type:"text","onUpdate:modelValue":t[14]||(t[14]=t=>e.data.phone=t)},null,512),[[i.nr,e.data.phone]])])])]),(0,a._)("div",Jt,[(0,a._)("button",{class:"button",onClick:t[15]||(t[15]=(...t)=>e.submitAll&&e.submitAll(...t))},["ch"==e.language?((0,a.wg)(),(0,a.iD)(a.HY,{key:0},[Kt],64)):(0,a.kq)("",!0),"en"==e.language?((0,a.wg)(),(0,a.iD)(a.HY,{key:1},[Qt],64)):(0,a.kq)("",!0)])])])}var el=l(4226),tl=l.n(el),ll=l(65),al=(0,a.aZ)({setup(e,t){const l=new $e.L,n=new $e._,i=(0,Ie.qj)({unified_id:"",name:"",org_id:"",dept_id:"",sex:1,student:1,student_id:"",birthday:"",phone:"",role:0,avatar:"",remark:"{}"}),d=(0,Ie.qj)({org_id:!1,dept_id:!1,student:!1}),g=(0,Ie.iH)([]);function u(){l.Url("organization/list").GetAll(g)}u();const s=(0,Ie.iH)([]);l.Url("univ-list").GetAll(s).then((()=>{for(let e=0;e<s.value.length;e++)s.value[e].label=`${s.value[e].univ_name_ch_full} (${s.value[e].univ_name_en})`}));const o=(0,Ie.iH)([]);function k(){o.value=[],l.Url(`dept-list/${i.org_id}`).Get().then((e=>{let t={};for(let l=0;l<e.length;l++)t=e[l],t.label=`[${e[l].college_ch}] ${e[l].dept_ch}`,o.value.push(t)}))}function r(){l.Url("auth/user/info").Get().then((e=>{i.org_id=e.org_id,i.dept_id="U"===e.org_id.substr(0,1)?e.dept_id:"","U"===e.org_id.substr(0,1)&&k(),2===e.permission?(d.org_id=!0,d.student=!0,i.student="U"===e.org_id.substr(0,1)?1:0):1===e.permission?(d.org_id=!0,d.dept_id=!0,d.student=!0,i.student="U"===e.org_id.substr(0,1)?1:0):(d.org_id=!1,d.dept_id=!1,d.student=!1)}))}r();const _=(0,Ie.qj)({unified_id:{filled:!1,unique:!0},name:{filled:!1},org_id:{filled:!1},birthday:{filled:!1}});function c(){l.Url(`athlete/exist/${i.unified_id}`).Get().then((e=>{!0===e.message?_.unified_id.unique=!1:_.unified_id.unique=!0}))}function y(){for(const t of Object.entries(_))for(const e of Object.entries(t[1]))if(!1===e[1])return void("filled"===e[0]?n.Alert("請確認所有欄位皆已填寫 Please fill in all required fields."):n.Alert("請確認輸入的內容 Please check your input data."));const e=JSON.parse(JSON.stringify(i));l.Url("athlete/add").Post(e).then((e=>{"done"===e.message&&(n.Alert("新增成功 Done"),t.emit("refresh"),t.emit("close_modal"),i.unified_id="",i.name="",i.dept_id="",i.student_id="",i.birthday="",i.phone="")}))}return(0,a.YP)(i,(()=>{_.unified_id.filled=i.unified_id.length>0,_.name.filled=i.name.length>0,_.org_id.filled=i.org_id.length>0,_.birthday.filled=i.birthday.length>0})),{orgList:g,univList:s,deptList:o,data:i,errorList:_,lockList:d,submitAll:y,exist:c,resetSelect:()=>{i.dept_id=""},changeOrg:e=>{1===e&&"U"!==i.org_id.substring(0,1)&&(i.org_id=""),0===e&&"U"===i.org_id.substring(0,1)&&(i.org_id="")},language:(0,a.Fl)((()=>(0,ll.oR)().state.language))}},components:{"v-select":tl()}}),nl=l(89);const il=(0,nl.Z)(al,[["render",Xt],["__scopeId","data-v-03d62560"]]);var dl=il;const gl=e=>((0,a.dD)("data-v-4ada4737"),e=e(),(0,a.Cn)(),e),ul={class:"text-gray-400"},sl=(0,a.Uk)("系所管理員僅可編輯本系選手"),ol=(0,a.Uk)("User with departmental permission can only edit their athletes' data."),kl={class:"athlete-table"},rl={class:"w-[20%]"},_l=(0,a.Uk)("身分證字號*"),cl=(0,a.Uk)("ARC/Unified ID*"),yl={class:"w-[80%]"},wl=(0,a.Uk)("姓名*"),hl=(0,a.Uk)("Name*"),pl=["readonly"],Dl=(0,a.Uk)("性別*"),Ul=(0,a.Uk)("Sex*"),ml=["disabled"],ql=gl((()=>(0,a._)("option",{value:"1"},"生理男",-1))),Hl=gl((()=>(0,a._)("option",{value:"2"},"生理女",-1))),bl=[ql,Hl],Yl={key:0},vl=(0,a.Uk)("是否為大專"),fl=gl((()=>(0,a._)("br",null,null,-1))),xl=(0,a.Uk)("院校學生*"),Al=(0,a.Uk)("University"),Ll=gl((()=>(0,a._)("br",null,null,-1))),Vl=(0,a.Uk)("Student*"),Ol=["disabled"],Cl=gl((()=>(0,a._)("span",null,"是",-1))),zl=["disabled"],Ml=gl((()=>(0,a._)("span",null,"否",-1))),Sl=(0,a.Uk)("主要學校*"),Il=(0,a.Uk)("Primary"),El=gl((()=>(0,a._)("br",null,null,-1))),$l=(0,a.Uk)("University*"),Pl=(0,a.Uk)("找不到 "),Gl=(0,a.Uk)("。"),Nl={key:1,class:"opacity-50"},Wl=(0,a.Uk)("主要系所"),Rl=(0,a.Uk)("Primary"),jl=gl((()=>(0,a._)("br",null,null,-1))),Tl=(0,a.Uk)("Department"),Zl={key:0},Fl=(0,a.Uk)("找不到 "),Bl=(0,a.Uk)("。 "),Jl={key:1,class:"opacity-50"},Kl={key:2,class:"opacity-50"},Ql={key:0},Xl=(0,a.Uk)("主要團體*"),ea=(0,a.Uk)("Primary"),ta=gl((()=>(0,a._)("br",null,null,-1))),la=(0,a.Uk)("Organization*"),aa=(0,a.Uk)("找不到 "),na=(0,a.Uk)("。"),ia={key:1,class:"opacity-50"},da=(0,a.Uk)("兼任學校"),ga=(0,a.Uk)("Secondary"),ua=gl((()=>(0,a._)("br",null,null,-1))),sa=(0,a.Uk)("University"),oa=(0,a.Uk)("找不到 "),ka=(0,a.Uk)("。"),ra={key:1,class:"opacity-50"},_a=(0,a.Uk)("兼任系所"),ca=(0,a.Uk)("Secondary"),ya=gl((()=>(0,a._)("br",null,null,-1))),wa=(0,a.Uk)("Department"),ha={key:0},pa=(0,a.Uk)("找不到 "),Da=(0,a.Uk)("。 "),Ua={key:1,class:"opacity-50"},ma={key:2,class:"opacity-50"},qa={key:0},Ha=(0,a.Uk)("兼任團體"),ba=(0,a.Uk)("Secondary"),Ya=gl((()=>(0,a._)("br",null,null,-1))),va=(0,a.Uk)("Organization"),fa=(0,a.Uk)("找不到 "),xa=(0,a.Uk)("。"),Aa={key:1,class:"opacity-50"},La=(0,a.Uk)("身份*"),Va=(0,a.Uk)("Identity*"),Oa={value:"0"},Ca=(0,a.Uk)("隊員"),za=(0,a.Uk)("Member"),Ma={value:"1"},Sa=(0,a.Uk)("隊長"),Ia=(0,a.Uk)("Captain"),Ea={key:5},$a=(0,a.Uk)("學號"),Pa=(0,a.Uk)("School ID"),Ga=["readonly"],Na=(0,a.Uk)("生日*"),Wa=(0,a.Uk)("Birthday*"),Ra=["readonly"],ja=(0,a.Uk)("手機"),Ta=(0,a.Uk)("Phone (TW)"),Za=["readonly"],Fa={key:0,class:"text-right"},Ba=(0,a.Uk)("刪除"),Ja=(0,a.Uk)("Delete"),Ka=(0,a.Uk)("儲存"),Qa=(0,a.Uk)("Save"),Xa=(0,a.Uk)("編輯"),en=(0,a.Uk)("Edit");function tn(e,t,l,d,g,u){const s=(0,a.up)("v-select");return(0,a.wg)(),(0,a.iD)("div",null,[(0,a._)("div",ul,["ch"==e.language?((0,a.wg)(),(0,a.iD)(a.HY,{key:0},[sl],64)):(0,a.kq)("",!0),"en"==e.language?((0,a.wg)(),(0,a.iD)(a.HY,{key:1},[ol],64)):(0,a.kq)("",!0)]),(0,a._)("table",kl,[(0,a._)("tr",null,[(0,a._)("td",rl,["ch"==e.language?((0,a.wg)(),(0,a.iD)(a.HY,{key:0},[_l],64)):(0,a.kq)("",!0),"en"==e.language?((0,a.wg)(),(0,a.iD)(a.HY,{key:1},[cl],64)):(0,a.kq)("",!0)]),(0,a._)("td",yl,(0,n.zw)(e.data.unified_id),1)]),(0,a._)("tr",null,[(0,a._)("td",null,["ch"==e.language?((0,a.wg)(),(0,a.iD)(a.HY,{key:0},[wl],64)):(0,a.kq)("",!0),"en"==e.language?((0,a.wg)(),(0,a.iD)(a.HY,{key:1},[hl],64)):(0,a.kq)("",!0)]),(0,a._)("td",null,[(0,a.wy)((0,a._)("input",{readonly:!e.isEdit,type:"text","onUpdate:modelValue":t[0]||(t[0]=t=>e.data.name=t)},null,8,pl),[[i.nr,e.data.name]])])]),(0,a._)("tr",null,[(0,a._)("td",null,["ch"==e.language?((0,a.wg)(),(0,a.iD)(a.HY,{key:0},[Dl],64)):(0,a.kq)("",!0),"en"==e.language?((0,a.wg)(),(0,a.iD)(a.HY,{key:1},[Ul],64)):(0,a.kq)("",!0)]),(0,a._)("td",null,[(0,a.wy)((0,a._)("select",{disabled:!e.isEdit,"onUpdate:modelValue":t[1]||(t[1]=t=>e.data.sex=t)},bl,8,ml),[[i.bM,e.data.sex]])])]),"O0000"!=e.data.org_id?((0,a.wg)(),(0,a.iD)("tr",Yl,[(0,a._)("td",null,["ch"==e.language?((0,a.wg)(),(0,a.iD)(a.HY,{key:0},[vl,fl,xl],64)):(0,a.kq)("",!0),"en"==e.language?((0,a.wg)(),(0,a.iD)(a.HY,{key:1},[Al,Ll,Vl],64)):(0,a.kq)("",!0)]),(0,a._)("td",null,[(0,a._)("label",null,[(0,a.wy)((0,a._)("input",{type:"radio",value:"1",disabled:e.lockList.student||!e.isEdit,"onUpdate:modelValue":t[2]||(t[2]=t=>e.data.student=t),onChange:t[3]||(t[3]=t=>e.changeOrg(1))},null,40,Ol),[[i.G2,e.data.student]]),Cl]),(0,a._)("label",null,[(0,a.wy)((0,a._)("input",{type:"radio",value:"0",disabled:e.lockList.student||!e.isEdit,"onUpdate:modelValue":t[4]||(t[4]=t=>e.data.student=t),onChange:t[5]||(t[5]=t=>e.changeOrg(0))},null,40,zl),[[i.G2,e.data.student]]),Ml])])])):(0,a.kq)("",!0),1==e.data.student?((0,a.wg)(),(0,a.iD)(a.HY,{key:1},[(0,a._)("tr",null,[(0,a._)("td",null,["ch"==e.language?((0,a.wg)(),(0,a.iD)(a.HY,{key:0},[Sl],64)):(0,a.kq)("",!0),"en"==e.language?((0,a.wg)(),(0,a.iD)(a.HY,{key:1},[Il,El,$l],64)):(0,a.kq)("",!0)]),(0,a._)("td",null,[(0,a.Wm)(s,{class:"cursor-pointer",disabled:e.lockList.org_id||!e.isEdit,clearable:!1,options:e.univList,reduce:e=>e.univ_id,modelValue:e.data.org_id,"onUpdate:modelValue":t[6]||(t[6]=t=>e.data.org_id=t),onInput:e.resetSelect},{"no-options":(0,a.w5)((({search:e,searching:t})=>[t?((0,a.wg)(),(0,a.iD)(a.HY,{key:0},[Pl,(0,a._)("em",null,(0,n.zw)(e),1),Gl],64)):((0,a.wg)(),(0,a.iD)("div",Nl,"請輸入或選擇學校"))])),_:1},8,["disabled","options","reduce","modelValue","onInput"])])]),(0,a._)("tr",null,[(0,a._)("td",null,["ch"==e.language?((0,a.wg)(),(0,a.iD)(a.HY,{key:0},[Wl],64)):(0,a.kq)("",!0),"en"==e.language?((0,a.wg)(),(0,a.iD)(a.HY,{key:1},[Rl,jl,Tl],64)):(0,a.kq)("",!0)]),(0,a._)("td",null,[e.deptList.length>0?((0,a.wg)(),(0,a.iD)("div",Zl,[(0,a.Wm)(s,{class:"cursor-pointer",disabled:e.lockList.dept_id||!e.isEdit,clearable:!1,options:e.deptList,reduce:e=>e.dept_id,modelValue:e.data.dept_id,"onUpdate:modelValue":t[7]||(t[7]=t=>e.data.dept_id=t),label:"label"},{"no-options":(0,a.w5)((({search:t,searching:l})=>[l?((0,a.wg)(),(0,a.iD)(a.HY,{key:0},[Fl,(0,a._)("em",null,(0,n.zw)(t),1),Bl],64)):e.data.org_id.length>0?((0,a.wg)(),(0,a.iD)("div",Jl,"載入中")):((0,a.wg)(),(0,a.iD)("div",Kl,"請選擇學校"))])),_:1},8,["disabled","options","reduce","modelValue"])])):(0,a.kq)("",!0)])])],64)):((0,a.wg)(),(0,a.iD)(a.HY,{key:2},["O0000"!=e.data.org_id?((0,a.wg)(),(0,a.iD)("tr",Ql,[(0,a._)("td",null,["ch"==e.language?((0,a.wg)(),(0,a.iD)(a.HY,{key:0},[Xl],64)):(0,a.kq)("",!0),"en"==e.language?((0,a.wg)(),(0,a.iD)(a.HY,{key:1},[ea,ta,la],64)):(0,a.kq)("",!0)]),(0,a._)("td",null,[(0,a.Wm)(s,{class:"cursor-pointer",disabled:e.lockList.org_id||!e.isEdit,clearable:!1,options:e.orgList,reduce:e=>e.org_id,modelValue:e.data.org_id,"onUpdate:modelValue":t[8]||(t[8]=t=>e.data.org_id=t),label:"name_ch_full"},{"no-options":(0,a.w5)((({search:e,searching:t})=>[t?((0,a.wg)(),(0,a.iD)(a.HY,{key:0},[aa,(0,a._)("em",null,(0,n.zw)(e),1),na],64)):((0,a.wg)(),(0,a.iD)("div",ia,"請輸入或選擇團體"))])),_:1},8,["disabled","options","reduce","modelValue"])])])):(0,a.kq)("",!0)],64)),1==e.data.student?((0,a.wg)(),(0,a.iD)(a.HY,{key:3},[(0,a._)("tr",null,[(0,a._)("td",null,["ch"==e.language?((0,a.wg)(),(0,a.iD)(a.HY,{key:0},[da],64)):(0,a.kq)("",!0),"en"==e.language?((0,a.wg)(),(0,a.iD)(a.HY,{key:1},[ga,ua,sa],64)):(0,a.kq)("",!0)]),(0,a._)("td",null,[(0,a.Wm)(s,{class:"cursor-pointer",disabled:e.lockList.sec_org_id||!e.isEdit,clearable:!1,options:e.univList,reduce:e=>e.univ_id,modelValue:e.data.sec_org_id,"onUpdate:modelValue":t[9]||(t[9]=t=>e.data.sec_org_id=t),onInput:e.resetSelectSec},{"no-options":(0,a.w5)((({search:e,searching:t})=>[t?((0,a.wg)(),(0,a.iD)(a.HY,{key:0},[oa,(0,a._)("em",null,(0,n.zw)(e),1),ka],64)):((0,a.wg)(),(0,a.iD)("div",ra,"請輸入或選擇學校"))])),_:1},8,["disabled","options","reduce","modelValue","onInput"])])]),(0,a._)("tr",null,[(0,a._)("td",null,["ch"==e.language?((0,a.wg)(),(0,a.iD)(a.HY,{key:0},[_a],64)):(0,a.kq)("",!0),"en"==e.language?((0,a.wg)(),(0,a.iD)(a.HY,{key:1},[ca,ya,wa],64)):(0,a.kq)("",!0)]),(0,a._)("td",null,[e.deptList.length>0?((0,a.wg)(),(0,a.iD)("div",ha,[(0,a.Wm)(s,{class:"cursor-pointer",disabled:e.lockList.sec_dept_id||!e.isEdit,clearable:!1,options:e.deptList,reduce:e=>e.dept_id,modelValue:e.data.sec_dept_id,"onUpdate:modelValue":t[10]||(t[10]=t=>e.data.sec_dept_id=t),label:"label"},{"no-options":(0,a.w5)((({search:t,searching:l})=>[l?((0,a.wg)(),(0,a.iD)(a.HY,{key:0},[pa,(0,a._)("em",null,(0,n.zw)(t),1),Da],64)):e.data.org_id.length>0?((0,a.wg)(),(0,a.iD)("div",Ua,"載入中")):((0,a.wg)(),(0,a.iD)("div",ma,"請選擇學校"))])),_:1},8,["disabled","options","reduce","modelValue"])])):(0,a.kq)("",!0)])])],64)):((0,a.wg)(),(0,a.iD)(a.HY,{key:4},["O0000"!=e.data.org_id?((0,a.wg)(),(0,a.iD)("tr",qa,[(0,a._)("td",null,["ch"==e.language?((0,a.wg)(),(0,a.iD)(a.HY,{key:0},[Ha],64)):(0,a.kq)("",!0),"en"==e.language?((0,a.wg)(),(0,a.iD)(a.HY,{key:1},[ba,Ya,va],64)):(0,a.kq)("",!0)]),(0,a._)("td",null,[(0,a.Wm)(s,{class:"cursor-pointer",disabled:e.lockList.sec_org_id||!e.isEdit,clearable:!1,options:e.orgList,reduce:e=>e.org_id,modelValue:e.data.sec_org_id,"onUpdate:modelValue":t[11]||(t[11]=t=>e.data.sec_org_id=t),label:"name_ch_full"},{"no-options":(0,a.w5)((({search:e,searching:t})=>[t?((0,a.wg)(),(0,a.iD)(a.HY,{key:0},[fa,(0,a._)("em",null,(0,n.zw)(e),1),xa],64)):((0,a.wg)(),(0,a.iD)("div",Aa,"請輸入或選擇團體"))])),_:1},8,["disabled","options","reduce","modelValue"])])])):(0,a.kq)("",!0)],64)),(0,a._)("tr",null,[(0,a._)("td",null,["ch"==e.language?((0,a.wg)(),(0,a.iD)(a.HY,{key:0},[La],64)):(0,a.kq)("",!0),"en"==e.language?((0,a.wg)(),(0,a.iD)(a.HY,{key:1},[Va],64)):(0,a.kq)("",!0)]),(0,a._)("td",null,[(0,a.wy)((0,a._)("select",{"onUpdate:modelValue":t[12]||(t[12]=t=>e.data.role=t)},[(0,a._)("option",Oa,["ch"==e.language?((0,a.wg)(),(0,a.iD)(a.HY,{key:0},[Ca],64)):(0,a.kq)("",!0),"en"==e.language?((0,a.wg)(),(0,a.iD)(a.HY,{key:1},[za],64)):(0,a.kq)("",!0)]),(0,a._)("option",Ma,["ch"==e.language?((0,a.wg)(),(0,a.iD)(a.HY,{key:0},[Sa],64)):(0,a.kq)("",!0),"en"==e.language?((0,a.wg)(),(0,a.iD)(a.HY,{key:1},[Ia],64)):(0,a.kq)("",!0)])],512),[[i.bM,e.data.role]])])]),1==e.data.student?((0,a.wg)(),(0,a.iD)("tr",Ea,[(0,a._)("td",null,["ch"==e.language?((0,a.wg)(),(0,a.iD)(a.HY,{key:0},[$a],64)):(0,a.kq)("",!0),"en"==e.language?((0,a.wg)(),(0,a.iD)(a.HY,{key:1},[Pa],64)):(0,a.kq)("",!0)]),(0,a._)("td",null,[(0,a.wy)((0,a._)("input",{type:"text",readonly:!e.isEdit,"onUpdate:modelValue":t[13]||(t[13]=t=>e.data.student_id=t)},null,8,Ga),[[i.nr,e.data.student_id]])])])):(0,a.kq)("",!0),(0,a._)("tr",null,[(0,a._)("td",null,["ch"==e.language?((0,a.wg)(),(0,a.iD)(a.HY,{key:0},[Na],64)):(0,a.kq)("",!0),"en"==e.language?((0,a.wg)(),(0,a.iD)(a.HY,{key:1},[Wa],64)):(0,a.kq)("",!0)]),(0,a._)("td",null,[(0,a.wy)((0,a._)("input",{type:"date",readonly:!e.isEdit,"onUpdate:modelValue":t[14]||(t[14]=t=>e.data.birthday=t)},null,8,Ra),[[i.nr,e.data.birthday]])])]),(0,a._)("tr",null,[(0,a._)("td",null,["ch"==e.language?((0,a.wg)(),(0,a.iD)(a.HY,{key:0},[ja],64)):(0,a.kq)("",!0),"en"==e.language?((0,a.wg)(),(0,a.iD)(a.HY,{key:1},[Ta],64)):(0,a.kq)("",!0)]),(0,a._)("td",null,[(0,a.wy)((0,a._)("input",{type:"text",readonly:!e.isEdit,"onUpdate:modelValue":t[15]||(t[15]=t=>e.data.phone=t)},null,8,Za),[[i.nr,e.data.phone]])])])]),"lookup"!=e.editType?((0,a.wg)(),(0,a.iD)("div",Fa,[e.isEdit?((0,a.wg)(),(0,a.iD)("button",{key:0,class:"button button-red",onClick:t[16]||(t[16]=(...t)=>e.deleteAll&&e.deleteAll(...t))},["ch"==e.language?((0,a.wg)(),(0,a.iD)(a.HY,{key:0},[Ba],64)):(0,a.kq)("",!0),"en"==e.language?((0,a.wg)(),(0,a.iD)(a.HY,{key:1},[Ja],64)):(0,a.kq)("",!0)])):(0,a.kq)("",!0),e.isEdit?((0,a.wg)(),(0,a.iD)("button",{key:1,class:"button",onClick:t[17]||(t[17]=(...t)=>e.submitAll&&e.submitAll(...t))},["ch"==e.language?((0,a.wg)(),(0,a.iD)(a.HY,{key:0},[Ka],64)):(0,a.kq)("",!0),"en"==e.language?((0,a.wg)(),(0,a.iD)(a.HY,{key:1},[Qa],64)):(0,a.kq)("",!0)])):((0,a.wg)(),(0,a.iD)("button",{key:2,class:"button",onClick:t[18]||(t[18]=t=>e.isEdit=!0)},["ch"==e.language?((0,a.wg)(),(0,a.iD)(a.HY,{key:0},[Xa],64)):(0,a.kq)("",!0),"en"==e.language?((0,a.wg)(),(0,a.iD)(a.HY,{key:1},[en],64)):(0,a.kq)("",!0)]))])):(0,a.kq)("",!0)])}var ln=(0,a.aZ)({props:["athleteData","editType"],setup(e,t){const l=new $e.L,n=new $e._,i=(0,ll.oR)(),d=(0,Ie.iH)(!1),g=(0,Ie.iH)(e.editType),u=(0,Ie.qj)({unified_id:e.athleteData.unified_id,name:e.athleteData.name,org_id:e.athleteData.org_id,sec_org_id:e.athleteData.sec_org_id,dept_id:e.athleteData.dept_id,sec_dept_id:e.athleteData.sec_dept_id,sex:Number(e.athleteData.sex),student:Number(e.athleteData.student),student_id:e.athleteData.student_id,birthday:e.athleteData.birthday,phone:e.athleteData.phone,role:Number(e.athleteData.role),avatar:e.athleteData.avatar,remark:e.athleteData.remark}),s=(0,Ie.qj)({org_id:!1,sec_org_id:!1,dept_id:!1,sec_dept_id:!1,student:!1}),o=(0,Ie.iH)([]);function k(){l.Url("organization/list").GetAll(o)}k();const r=(0,Ie.iH)([]);l.Url("univ-list").GetAll(r).then((()=>{for(let e=0;e<r.value.length;e++)r.value[e].label=`${r.value[e].univ_name_ch_full} (${r.value[e].univ_name_en})`}));const _=(0,Ie.iH)([]);function c(){_.value=[],l.Url(`dept-list/${u.org_id}`).Get().then((e=>{let t={};for(let l=0;l<e.length;l++)t=e[l],t.label=`[${e[l].college_ch}] ${e[l].dept_ch}`,_.value.push(t)}))}function y(){l.Url("auth/user/info").Get().then((e=>{"U"===e.org_id.substr(0,1)&&c(),2===e.permission?(s.org_id=!0,s.student=!0,u.student="U"===e.org_id.substr(0,1)?1:0):1===e.permission?(s.org_id=!0,s.sec_org_id=!0,s.dept_id=!0,s.student=!0,u.student="U"===e.org_id.substr(0,1)?1:0,u.sec_org_id=u.org_id):(s.org_id=!1,s.sec_org_id=!1,s.dept_id=!1,s.sec_dept_id=!1,s.student=!1)}))}y();const w=(0,Ie.qj)({name:{filled:!1},org_id:{filled:!1},birthday:{filled:!1}});function h(){w.name.filled=u.name.length>0,w.org_id.filled=u.org_id.length>0,w.birthday.filled=u.birthday.length>0}function p(){for(const e of Object.entries(w))for(const t of Object.entries(e[1]))if(!1===t[1])return void("filled"===t[0]?n.Alert("請確認所有欄位皆已填寫 Please fill in all required fields."):n.Alert("請確認輸入的內容 Please check your input data."));if(null!==u.sec_org_id&&u.org_id===u.sec_org_id&&u.dept_id===u.sec_dept_id)return void n.Alert("兼任校系不得與主要校系相同 Please select another university/department.");const a=JSON.parse(JSON.stringify(u));l.Url("athlete/edit").Patch(e.athleteData.athlete_id,a).then((e=>{"done"===e.message&&(n.Alert("編輯成功 Done"),t.emit("refresh"),t.emit("close_modal"),u.unified_id="",u.name="",u.dept_id="",u.student_id="",u.birthday="",u.phone="")}))}function D(){n.Confirm("確定要刪除嗎？ Are you sure?")}h(),(0,a.YP)(u,(()=>{h()}));const U=(0,a.Fl)((()=>i.state.confirmAnswer));return(0,a.YP)(U,(a=>{"y"===a&&l.Url("athlete/delete").Delete(e.athleteData.athlete_id).then((e=>{"done"===e.message&&(n.Alert("已刪除選手 Done"),t.emit("close_modal"),t.emit("refresh"))})),n.ResetConfirm()})),{orgList:o,univList:r,deptList:_,data:u,errorList:w,lockList:s,submitAll:p,deleteAll:D,resetSelect:()=>{u.dept_id=""},resetSelectSec:()=>{u.sec_dept_id=""},changeOrg:e=>{1===e&&"U"!==u.org_id.substring(0,1)&&(u.org_id=""),0===e&&"U"===u.org_id.substring(0,1)&&(u.org_id="")},isEdit:d,displayType:g,language:(0,a.Fl)((()=>(0,ll.oR)().state.language))}},components:{"v-select":tl()}});const an=(0,nl.Z)(ln,[["render",tn],["__scopeId","data-v-4ada4737"]]);var nn=an,dn=(0,a.aZ)({setup(){const e=new $e.L,t=(0,Ie.iH)(0),l=(0,Ie.iH)({}),n=(0,Ie.iH)({}),i=(0,Ie.iH)({}),d=(0,Ie.iH)(void 0),g=(0,Ie.iH)([]);function u(){2===i.value.permission?e.Url(`athlete/get/org/${i.value.org_id}/second`).GetAll(g):e.Url(`athlete/get/org/${i.value.org_id}/second/${i.value.dept_id}`).GetAll(g)}function s(){e.Url("auth/user/info").GetAll(i).then((()=>{u()}))}return s(),{displayModal:t,gameData:n,athleteList:g,getAthleteList:u,selected:l,userData:i,editAthlete:(e,a)=>{l.value=e,t.value=2,d.value=a},editType:d,language:(0,a.Fl)((()=>(0,ll.oR)().state.language))}},components:{SmallModal:Ee.Z,AddAthlete:dl,EditAthlete:nn}});const gn=(0,nl.Z)(dn,[["render",Se],["__scopeId","data-v-4d452778"]]);var un=gn}}]);
//# sourceMappingURL=788.138292b2.js.map