"use strict";(self["webpackChunkregistration"]=self["webpackChunkregistration"]||[]).push([[404],{9404:function(t,e,n){n.r(e),n.d(e,{default:function(){return H}});var l=n(3396),a=n(7139),i=n(9242);const s=t=>((0,l.dD)("data-v-29c7f988"),t=t(),(0,l.Cn)(),t),u={class:"mx-auto w-full p-5 sm:w-11/12 md:w-4/5 lg:w-2/3 xl:w-1/2 py-5"},r={class:"box-section"},o={class:"box-section"},d=s((()=>(0,l._)("div",{class:"title"},"帳號資料管理",-1))),c=s((()=>(0,l._)("hr",null,null,-1))),p=s((()=>(0,l._)("td",null,"帳號",-1))),_=s((()=>(0,l._)("td",null,"姓名",-1))),m={key:0},w={key:1},f=s((()=>(0,l._)("td",null,"手機號碼",-1))),h={key:0},g={key:1},k=s((()=>(0,l._)("td",null,"單位全名",-1))),D=s((()=>(0,l._)("td",null,"單位簡稱",-1))),y=s((()=>(0,l._)("td",null,"權限",-1))),v={key:0},b={key:1},x={key:2},q={key:3},A={class:"text-right"};function C(t,e,n,s,C,E){return(0,l.wg)(),(0,l.iD)("div",u,[(0,l._)("div",r,[(0,l._)("div",{class:"text-xl text-gray-400 cursor-pointer",onClick:e[0]||(e[0]=e=>t.$router.go(-1))},"回上頁")]),(0,l._)("div",o,[d,c,(0,l._)("table",null,[(0,l._)("tr",null,[p,(0,l._)("td",null,(0,a.zw)(t.userData.account),1)]),(0,l._)("tr",null,[_,t.isEdit?((0,l.wg)(),(0,l.iD)("td",m,[(0,l.wy)((0,l._)("input",{type:"text","onUpdate:modelValue":e[1]||(e[1]=e=>t.data.name=e)},null,512),[[i.nr,t.data.name]])])):((0,l.wg)(),(0,l.iD)("td",w,(0,a.zw)(t.userData.name),1))]),(0,l._)("tr",null,[f,t.isEdit?((0,l.wg)(),(0,l.iD)("td",h,[(0,l.wy)((0,l._)("input",{type:"text","onUpdate:modelValue":e[2]||(e[2]=e=>t.data.phone=e)},null,512),[[i.nr,t.data.phone]])])):((0,l.wg)(),(0,l.iD)("td",g,(0,a.zw)(t.userData.phone),1))]),(0,l._)("tr",null,[k,(0,l._)("td",null,(0,a.zw)(t.userData.name_ch_full),1)]),(0,l._)("tr",null,[D,(0,l._)("td",null,(0,a.zw)(t.userData.name_ch),1)]),(0,l._)("tr",null,[y,(0,l._)("td",null,[0==t.userData.permission?((0,l.wg)(),(0,l.iD)("span",v,"一般帳號")):(0,l.kq)("",!0),1==t.userData.permission?((0,l.wg)(),(0,l.iD)("span",b,"系所代表")):(0,l.kq)("",!0),2==t.userData.permission?((0,l.wg)(),(0,l.iD)("span",x,"學校、團體代表")):(0,l.kq)("",!0),3==t.userData.permission?((0,l.wg)(),(0,l.iD)("span",q,"聯盟代表")):(0,l.kq)("",!0)])])]),(0,l._)("div",A,[t.isEdit?(0,l.kq)("",!0):((0,l.wg)(),(0,l.iD)("button",{key:0,class:"button",onClick:e[3]||(e[3]=e=>t.isEdit=!0)},"編輯")),t.isEdit?((0,l.wg)(),(0,l.iD)("button",{key:1,class:"button",onClick:e[4]||(e[4]=(...e)=>t.submitAll&&t.submitAll(...e))},"儲存")):(0,l.kq)("",!0)])])])}var E=n(4870),z=n(3927),j=(0,l.aZ)({setup(){const t=(0,E.iH)(0),e=(0,E.iH)(!1),n=new z.L,a=new z._,i=(0,E.iH)({}),s=(0,E.qj)({name:"",phone:"",image:""});function u(){n.Url("auth/user/info").GetAll(i).then((()=>{s.name=i.value.name,s.phone=i.value.phone,s.image=i.value.image}))}u();const r=(0,E.qj)({name:{filled:!1},phone:{filled:!1,format:!1}});function o(){for(const e of Object.entries(r))for(const t of Object.entries(e[1]))if(!1===t[1])return void("filled"===t[0]?a.Alert("請確認所有欄位皆已填寫"):a.Alert("請確認輸入的內容"));const t=JSON.parse(JSON.stringify(s));n.Url("auth/user/edit").Patch(i.value.u_id,t).then((t=>{"done"===t.message&&(a.Alert("編輯成功"),e.value=!1,u())}))}return(0,l.YP)(s,(()=>{r.name.filled=s.name.length>0,r.phone.filled=s.phone.length>0,r.phone.format=/^09[0-9]{8}$/.test(s.phone)})),{displayModal:t,userData:i,data:s,isEdit:e,submitAll:o}}}),O=n(89);const U=(0,O.Z)(j,[["render",C],["__scopeId","data-v-29c7f988"]]);var H=U}}]);
//# sourceMappingURL=404.895f2fe8.js.map