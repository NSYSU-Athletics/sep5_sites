"use strict";(self["webpackChunkadmin"]=self["webpackChunkadmin"]||[]).push([[194],{25:function(l,e,t){t.r(e),t.d(e,{default:function(){return Sl}});var a=t(3396),n=t(9242);const i=l=>((0,a.dD)("data-v-cb623f16"),l=l(),(0,a.Cn)(),l),s={class:"p-5 bg-white shadow"},d=i((()=>(0,a._)("div",{class:"text-2xl"},"參數設定",-1))),o=i((()=>(0,a._)("hr",{class:"my-2"},null,-1))),u=i((()=>(0,a._)("span",null,"賽事設定",-1))),c=[u],r=i((()=>(0,a._)("span",null,"競賽日期",-1))),_=[r],v=i((()=>(0,a._)("span",null,"競賽分組",-1))),p=[v],m=i((()=>(0,a._)("span",null,"競賽項目",-1))),g=[m],y=i((()=>(0,a._)("span",null,"項目設定",-1))),h=[y],w=i((()=>(0,a._)("span",null,"積分設定",-1))),k=[w],b={class:"text-2xl"},f={key:0},D={key:1},C={key:2},M=i((()=>(0,a._)("hr",{class:"my-2"},null,-1))),x={class:"text-2xl"},U={key:0},A={key:1},H={key:2},I=i((()=>(0,a._)("hr",{class:"my-2"},null,-1)));function q(l,e,t,i,u,r){const v=(0,a.up)("EditDate"),m=(0,a.up)("EditDivision"),y=(0,a.up)("EditEvent"),w=(0,a.up)("SmallModal"),q=(0,a.up)("EditGame"),V=(0,a.up)("EditParams"),Z=(0,a.up)("FullModal");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a._)("div",null,[(0,a._)("div",s,[d,o,(0,a._)("button",{class:"arrow-button",onClick:e[0]||(e[0]=e=>l.displayModal=1)},c),(0,a._)("button",{class:"arrow-button",onClick:e[1]||(e[1]=e=>l.displayModal=2)},_),(0,a._)("button",{class:"arrow-button",onClick:e[2]||(e[2]=e=>l.displayModal=3)},p),(0,a._)("button",{class:"arrow-button",onClick:e[3]||(e[3]=e=>l.displayModal=4)},g),(0,a._)("button",{class:"arrow-button",onClick:e[4]||(e[4]=e=>l.displayModal=5)},h),(0,a._)("button",{class:"arrow-button",onClick:e[5]||(e[5]=e=>l.displayModal=6)},k)])]),(0,a.wy)((0,a.Wm)(w,{onClose_modal:e[9]||(e[9]=e=>l.displayModal=0)},{title:(0,a.w5)((()=>[(0,a._)("div",b,[2==l.displayModal?((0,a.wg)(),(0,a.iD)("div",f,"競賽日期")):(0,a.kq)("",!0),3==l.displayModal?((0,a.wg)(),(0,a.iD)("div",D,"競賽分組")):(0,a.kq)("",!0),4==l.displayModal?((0,a.wg)(),(0,a.iD)("div",C,"競賽項目")):(0,a.kq)("",!0)])])),content:(0,a.w5)((()=>[M,2==l.displayModal?((0,a.wg)(),(0,a.j4)(v,{key:0,onClose_modal:e[6]||(e[6]=e=>l.displayModal=0)})):(0,a.kq)("",!0),3==l.displayModal?((0,a.wg)(),(0,a.j4)(m,{key:1,onClose_modal:e[7]||(e[7]=e=>l.displayModal=0)})):(0,a.kq)("",!0),4==l.displayModal?((0,a.wg)(),(0,a.j4)(y,{key:2,onClose_modal:e[8]||(e[8]=e=>l.displayModal=0)})):(0,a.kq)("",!0)])),_:1},512),[[n.F8,l.small.includes(l.displayModal)]]),(0,a.wy)((0,a.Wm)(Z,{onClose_modal:e[12]||(e[12]=e=>l.displayModal=0)},{title:(0,a.w5)((()=>[(0,a._)("div",x,[1==l.displayModal?((0,a.wg)(),(0,a.iD)("div",U,"賽事設定")):(0,a.kq)("",!0),5==l.displayModal?((0,a.wg)(),(0,a.iD)("div",A,"賽事設定")):(0,a.kq)("",!0),6==l.displayModal?((0,a.wg)(),(0,a.iD)("div",H,"積分設定")):(0,a.kq)("",!0)])])),content:(0,a.w5)((()=>[I,1==l.displayModal?((0,a.wg)(),(0,a.j4)(q,{key:0,onClose_modal:e[10]||(e[10]=e=>l.displayModal=0)})):(0,a.kq)("",!0),5==l.displayModal?((0,a.wg)(),(0,a.j4)(V,{key:1,onClose_modal:e[11]||(e[11]=e=>l.displayModal=0)})):(0,a.kq)("",!0)])),_:1},512),[[n.F8,l.large.includes(l.displayModal)]])],64)}var V=t(4870),Z=t(1435),E=t(1293),L=t(8058);t(7658);const $=l=>((0,a.dD)("data-v-3330a86c"),l=l(),(0,a.Cn)(),l),j=$((()=>(0,a._)("th",{class:"text-left"},"日期",-1))),G=$((()=>(0,a._)("th",{class:"text-left"},"日程",-1))),Y={class:"text-right"},K=["onUpdate:modelValue"],P=["onUpdate:modelValue"],S={class:"text-right"},O=["onClick"],z={class:"p-1"};function F(l,e,t,i,s,d){return(0,a.wg)(),(0,a.iD)("div",null,[(0,a._)("table",null,[(0,a._)("tr",null,[j,G,(0,a._)("th",Y,[(0,a._)("button",{onClick:e[0]||(e[0]=e=>l.data.push({id:l.data.length+1,date:"",day:""}))},"新增")])]),((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(l.data,((e,t)=>((0,a.wg)(),(0,a.iD)("tr",{key:t},[(0,a._)("td",null,[(0,a.wy)((0,a._)("input",{type:"date","onUpdate:modelValue":l=>e.date=l},null,8,K),[[n.nr,e.date]])]),(0,a._)("td",null,[(0,a.wy)((0,a._)("input",{type:"text","onUpdate:modelValue":l=>e.day=l},null,8,P),[[n.nr,e.day]])]),(0,a._)("td",S,[(0,a._)("button",{class:"button-red",onClick:e=>l.data.splice(t,1)},"刪除",8,O)])])))),128))]),(0,a._)("div",z,[(0,a._)("button",{onClick:e[1]||(e[1]=(...e)=>l.submitAll&&l.submitAll(...e))},"儲存")])])}var J=t(3927),N=t(2483),W=(0,a.aZ)({setup(l,e){const t=(0,V.iH)([]),a=new J.L,n=new J._,i=(0,N.yj)();function s(){for(let l=0;l<t.value.length;l++)if(""===t.value[l].date||""===t.value[l].day)return void n.Alert("不得有空欄位");a.Url(`athletics/date/set/${i.params.gameId}`).Post({data:JSON.stringify(t.value)}).then((l=>{"done"===l.message&&(n.Alert("已儲存"),e.emit("close_modal"))}))}return a.Url(`athletics/date/${i.params.gameId}`).GetAll(t),{data:t,submitAll:s}}}),B=t(89);const Q=(0,B.Z)(W,[["render",F],["__scopeId","data-v-3330a86c"]]);var R=Q;const T=l=>((0,a.dD)("data-v-7d1cab7c"),l=l(),(0,a.Cn)(),l),X=T((()=>(0,a._)("th",{class:"text-left"},"中文",-1))),ll=T((()=>(0,a._)("th",{class:"text-left"},"英文",-1))),el=T((()=>(0,a._)("th",{class:"text-left"},"性別",-1))),tl={class:"text-right"},al=["onUpdate:modelValue"],nl=["onUpdate:modelValue"],il=["onUpdate:modelValue"],sl=T((()=>(0,a._)("option",{value:"0"},"全",-1))),dl=T((()=>(0,a._)("option",{value:"1"},"男",-1))),ol=T((()=>(0,a._)("option",{value:"2"},"女",-1))),ul=[sl,dl,ol],cl={class:"text-right"},rl=["onClick"],_l={class:"p-1"};function vl(l,e,t,i,s,d){return(0,a.wg)(),(0,a.iD)("div",null,[(0,a._)("table",null,[(0,a._)("tr",null,[X,ll,el,(0,a._)("th",tl,[(0,a._)("button",{onClick:e[0]||(e[0]=e=>l.data.push({game_division_id:l.data.length+1,sex:0,ch:"",en:""}))},"新增")])]),((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(l.data,((e,t)=>((0,a.wg)(),(0,a.iD)("tr",{key:t},[(0,a._)("td",null,[(0,a.wy)((0,a._)("input",{type:"text","onUpdate:modelValue":l=>e.ch=l},null,8,al),[[n.nr,e.ch]])]),(0,a._)("td",null,[(0,a.wy)((0,a._)("input",{type:"text","onUpdate:modelValue":l=>e.en=l},null,8,nl),[[n.nr,e.en]])]),(0,a._)("td",null,[(0,a.wy)((0,a._)("select",{"onUpdate:modelValue":l=>e.sex=l},ul,8,il),[[n.bM,e.sex]])]),(0,a._)("td",cl,[(0,a._)("button",{class:"button-red",onClick:e=>l.data.splice(t,1)},"刪除",8,rl)])])))),128))]),(0,a._)("div",_l,[(0,a._)("button",{onClick:e[1]||(e[1]=(...e)=>l.submitAll&&l.submitAll(...e))},"儲存")])])}var pl=(0,a.aZ)({setup(l,e){const t=(0,V.iH)([]),a=new J.L,n=new J._,i=(0,N.yj)();function s(){for(let l=0;l<t.value.length;l++)if(""===t.value[l].ch||""===t.value[l].en)return void n.Alert("不得有空欄位");a.Url(`athletics/game-division/set/${i.params.gameId}`).Post({data:JSON.stringify(t.value)}).then((l=>{"done"===l.message&&(n.Alert("已儲存"),e.emit("close_modal"))}))}return a.Url(`athletics/game-division/${i.params.gameId}`).GetAll(t),{data:t,submitAll:s}}});const ml=(0,B.Z)(pl,[["render",vl],["__scopeId","data-v-7d1cab7c"]]);var gl=ml,yl=t(7139);const hl={class:"target"},wl={class:"inline-block mr-2"},kl={class:"inline-block"},bl=["value"],fl={class:"p-1"};function Dl(l,e,t,i,s,d){return(0,a.wg)(),(0,a.iD)("div",hl,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(l.eventList,((t,i)=>((0,a.wg)(),(0,a.iD)(a.HY,{key:i},[t.display&&"athl"==t.event_type?((0,a.wg)(),(0,a.iD)("label",{key:0,class:(0,yl.C_)({selected:l.data.indexOf(t.event_id)>-1})},[(0,a._)("span",wl,"["+(0,yl.zw)(t.event_id.toUpperCase())+"]",1),(0,a._)("span",kl,(0,yl.zw)(t.event_ch),1),(0,a.wy)((0,a._)("input",{type:"checkbox",value:t.event_id,class:"hidden","onUpdate:modelValue":e[0]||(e[0]=e=>l.data=e)},null,8,bl),[[n.e8,l.data]])],2)):(0,a.kq)("",!0)],64)))),128)),(0,a._)("div",fl,[(0,a._)("button",{onClick:e[1]||(e[1]=(...e)=>l.submitAll&&l.submitAll(...e))},"儲存")])])}var Cl=(0,a.aZ)({setup(l,e){const t=(0,V.iH)([]),a=new J.L,n=new J._,i=(0,N.yj)();a.Url(`athletics/selected-event/${i.params.gameId}`).Get().then((l=>{for(let e=0;e<l.length;e++)t.value.push(l[e].event_id)}));const s=(0,V.iH)([]);function d(){a.Url(`athletics/selected-event/set/${i.params.gameId}`).Post({data:JSON.stringify(t.value)}).then((l=>{"done"===l.message&&(n.Alert("已儲存"),e.emit("close_modal"))}))}return a.Url("event/list").GetAll(s),{data:t,eventList:s,submitAll:d}}});const Ml=(0,B.Z)(Cl,[["render",Dl],["__scopeId","data-v-2ec311bc"]]);var xl=Ml;const Ul=l=>((0,a.dD)("data-v-0cca46f8"),l=l(),(0,a.Cn)(),l),Al={class:"flex flex-col flex-grow overflow-hidden h-full"},Hl={class:"overflow-auto h-full"},Il={key:0},ql={class:"sticky top-0 bg-white"},Vl=Ul((()=>(0,a._)("th",{class:"text-left"},"項目",-1))),Zl=["value","onUpdate:modelValue"],El=Ul((()=>(0,a._)("hr",null,null,-1))),Ll={class:"p-1 flex-shrink-0 mb-3"};function $l(l,e,t,i,s,d){return(0,a.wg)(),(0,a.iD)("div",Al,[(0,a._)("div",Hl,[l.data.length>0?((0,a.wg)(),(0,a.iD)("table",Il,[(0,a._)("tr",ql,[Vl,((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(l.divisionList,((l,e)=>((0,a.wg)(),(0,a.iD)("th",{key:e},(0,yl.zw)(l.ch),1)))),128))]),((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(l.eventList,((e,t)=>((0,a.wg)(),(0,a.iD)("tr",{key:t},[(0,a._)("td",null,(0,yl.zw)(e.event_ch),1),((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(l.divisionList,((e,i)=>((0,a.wg)(),(0,a.iD)("td",{key:i},[(0,a._)("label",{class:(0,yl.C_)({selected:l.data[t].selected_division.includes(e.game_division_id)})},[(0,a.wy)((0,a._)("input",{value:e.game_division_id,"onUpdate:modelValue":e=>l.data[t].selected_division=e,type:"checkbox",class:"hidden"},null,8,Zl),[[n.e8,l.data[t].selected_division]])],2)])))),128))])))),128))])):(0,a.kq)("",!0)]),El,(0,a._)("div",Ll,[(0,a._)("button",{onClick:e[0]||(e[0]=(...e)=>l.submitAll&&l.submitAll(...e))},"儲存")])])}var jl=(0,a.aZ)({setup(l,e){const t=new J.L,a=new J._,n=(0,N.yj)(),i=(0,V.iH)([]),s=(0,V.iH)([]);t.Url(`athletics/selected-event/${n.params.gameId}`).GetAll(s).then((()=>{t.Url(`athletics/event-params/${n.params.gameId}`).Get().then((l=>{for(let e=0;e<s.value.length;e++){const t=[];for(let a=0;a<l.length;a++)s.value[e].event_id===l[a].event_id&&t.push(l[a].game_division_id),console.log(t);i.value.push({event_id:s.value[e].event_id,selected_division:t})}}))}));const d=(0,V.iH)([]);function o(){const l=[];let s=1;for(let e=0;e<i.value.length;e++)for(let t=0;t<d.value.length;t++)i.value[e].selected_division.includes(d.value[t].game_division_id)&&(l.push({id:s,game_division_id:d.value[t].game_division_id,event_id:i.value[e].event_id}),s++);t.Url(`athletics/event-params/set/${n.params.gameId}`).Post({data:JSON.stringify(l)}).then((l=>{"done"===l.message&&(a.Alert("已儲存"),e.emit("close_modal"))}))}return t.Url(`athletics/game-division/${n.params.gameId}`).GetAll(d),{data:i,eventList:s,divisionList:d,submitAll:o}}});const Gl=(0,B.Z)(jl,[["render",$l],["__scopeId","data-v-0cca46f8"]]);var Yl=Gl,Kl=(0,a.aZ)({setup(){const l=(0,V.iH)(0);return{displayModal:l,small:[2,3,4],large:[1,5,6]}},components:{SmallModal:Z.Z,FullModal:E.Z,EditGame:L.Z,EditDate:R,EditDivision:gl,EditEvent:xl,EditParams:Yl}});const Pl=(0,B.Z)(Kl,[["render",q],["__scopeId","data-v-cb623f16"]]);var Sl=Pl}}]);
//# sourceMappingURL=194.e05c19d4.js.map