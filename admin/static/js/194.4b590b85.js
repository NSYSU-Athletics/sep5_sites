"use strict";(self["webpackChunkadmin"]=self["webpackChunkadmin"]||[]).push([[194],{3907:function(e,l,a){a.r(l),a.d(l,{default:function(){return Ye}});a(6699);var t=a(3396),n=a(9242);const d=e=>((0,t.dD)("data-v-9cbab40e"),e=e(),(0,t.Cn)(),e),s={class:"p-5 bg-white shadow"},i=d((()=>(0,t._)("div",{class:"text-2xl"},"參數設定",-1))),o=d((()=>(0,t._)("hr",{class:"my-2"},null,-1))),u=d((()=>(0,t._)("span",null,"賽事設定",-1))),r=[u],c=d((()=>(0,t._)("span",null,"競賽日期",-1))),_=[c],p=d((()=>(0,t._)("span",null,"競賽分組",-1))),m=[p],v=d((()=>(0,t._)("span",null,"競賽項目",-1))),g=[v],y=d((()=>(0,t._)("span",null,"項目設定",-1))),w=[y],h={class:"text-2xl"},b={key:0},k={key:1},f={key:2},C=d((()=>(0,t._)("hr",{class:"my-2"},null,-1))),D={class:"text-2xl"},M={key:0},x={key:1},U=d((()=>(0,t._)("hr",{class:"my-2"},null,-1)));function A(e,l,a,d,u,c){const p=(0,t.up)("EditDate"),v=(0,t.up)("EditDivision"),y=(0,t.up)("EditEvent"),A=(0,t.up)("SmallModal"),$=(0,t.up)("EditGame"),H=(0,t.up)("EditParams"),I=(0,t.up)("FullModal");return(0,t.wg)(),(0,t.iD)(t.HY,null,[(0,t._)("div",null,[(0,t._)("div",s,[i,o,(0,t._)("button",{class:"arrow-button",onClick:l[0]||(l[0]=l=>e.displayModal=1)},r),(0,t._)("button",{class:"arrow-button",onClick:l[1]||(l[1]=l=>e.displayModal=2)},_),(0,t._)("button",{class:"arrow-button",onClick:l[2]||(l[2]=l=>e.displayModal=3)},m),(0,t._)("button",{class:"arrow-button",onClick:l[3]||(l[3]=l=>e.displayModal=4)},g),(0,t._)("button",{class:"arrow-button",onClick:l[4]||(l[4]=l=>e.displayModal=5)},w)])]),(0,t.wy)((0,t.Wm)(A,{onClose_modal:l[8]||(l[8]=l=>e.displayModal=0)},{title:(0,t.w5)((()=>[(0,t._)("div",h,[2==e.displayModal?((0,t.wg)(),(0,t.iD)("div",b,"競賽日期")):(0,t.kq)("",!0),3==e.displayModal?((0,t.wg)(),(0,t.iD)("div",k,"競賽分組")):(0,t.kq)("",!0),4==e.displayModal?((0,t.wg)(),(0,t.iD)("div",f,"競賽項目")):(0,t.kq)("",!0)])])),content:(0,t.w5)((()=>[C,2==e.displayModal?((0,t.wg)(),(0,t.j4)(p,{key:0,onClose_modal:l[5]||(l[5]=l=>e.displayModal=0)})):(0,t.kq)("",!0),3==e.displayModal?((0,t.wg)(),(0,t.j4)(v,{key:1,onClose_modal:l[6]||(l[6]=l=>e.displayModal=0)})):(0,t.kq)("",!0),4==e.displayModal?((0,t.wg)(),(0,t.j4)(y,{key:2,onClose_modal:l[7]||(l[7]=l=>e.displayModal=0)})):(0,t.kq)("",!0)])),_:1},512),[[n.F8,e.small.includes(e.displayModal)]]),(0,t.wy)((0,t.Wm)(I,{onClose_modal:l[11]||(l[11]=l=>e.displayModal=0)},{title:(0,t.w5)((()=>[(0,t._)("div",D,[1==e.displayModal?((0,t.wg)(),(0,t.iD)("div",M,"賽事設定")):(0,t.kq)("",!0),5==e.displayModal?((0,t.wg)(),(0,t.iD)("div",x,"賽事設定")):(0,t.kq)("",!0)])])),content:(0,t.w5)((()=>[U,1==e.displayModal?((0,t.wg)(),(0,t.j4)($,{key:0,onClose_modal:l[9]||(l[9]=l=>e.displayModal=0)})):(0,t.kq)("",!0),5==e.displayModal?((0,t.wg)(),(0,t.j4)(H,{key:1,onClose_modal:l[10]||(l[10]=l=>e.displayModal=0)})):(0,t.kq)("",!0)])),_:1},512),[[n.F8,e.large.includes(e.displayModal)]])],64)}var $=a(4870),H=a(1435),I=a(8924),V=a(8058);const Z=e=>((0,t.dD)("data-v-6cc39a21"),e=e(),(0,t.Cn)(),e),q=Z((()=>(0,t._)("th",{class:"text-left"},"日期",-1))),E=Z((()=>(0,t._)("th",{class:"text-left"},"日程",-1))),L={class:"text-right"},j=["onUpdate:modelValue"],G=["onUpdate:modelValue"],Y={class:"text-right"},K=["onClick"],P={class:"p-1"};function S(e,l,a,d,s,i){return(0,t.wg)(),(0,t.iD)("div",null,[(0,t._)("table",null,[(0,t._)("tr",null,[q,E,(0,t._)("th",L,[(0,t._)("button",{onClick:l[0]||(l[0]=l=>e.data.push({id:e.data.length+1,date:"",day:""}))},"新增")])]),((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(e.data,((l,a)=>((0,t.wg)(),(0,t.iD)("tr",{key:a},[(0,t._)("td",null,[(0,t.wy)((0,t._)("input",{type:"date","onUpdate:modelValue":e=>l.date=e},null,8,j),[[n.nr,l.date]])]),(0,t._)("td",null,[(0,t.wy)((0,t._)("input",{type:"text","onUpdate:modelValue":e=>l.day=e},null,8,G),[[n.nr,l.day]])]),(0,t._)("td",Y,[(0,t._)("button",{class:"button-red",onClick:l=>e.data.splice(a,1)},"刪除",8,K)])])))),128))]),(0,t._)("div",P,[(0,t._)("button",{onClick:l[1]||(l[1]=(...l)=>e.submitAll&&e.submitAll(...l))},"儲存")])])}var O=a(3927),z=a(2483),F=(0,t.aZ)({setup(e,l){const a=(0,$.iH)([]),t=new O.L,n=new O._,d=(0,z.yj)();function s(){for(let e=0;e<a.value.length;e++)if(""===a.value[e].date||""===a.value[e].day)return void n.Alert("不得有空欄位");t.Url(`general/${d.params.gameCode}/date/set/${d.params.gameId}`).Post({data:JSON.stringify(a.value)}).then((e=>{"done"===e.message&&(n.Alert("已儲存"),l.emit("close_modal"))}))}return t.Url(`general/${d.params.gameCode}/date/${d.params.gameId}`).GetAll(a),{data:a,submitAll:s}}}),J=a(89);const N=(0,J.Z)(F,[["render",S],["__scopeId","data-v-6cc39a21"]]);var W=N;const B=e=>((0,t.dD)("data-v-6fc159a9"),e=e(),(0,t.Cn)(),e),Q=B((()=>(0,t._)("th",{class:"text-left"},"中文",-1))),R=B((()=>(0,t._)("th",{class:"text-left"},"英文",-1))),T=B((()=>(0,t._)("th",{class:"text-left"},"性別",-1))),X={class:"text-right"},ee=["onUpdate:modelValue"],le=["onUpdate:modelValue"],ae=["onUpdate:modelValue"],te=B((()=>(0,t._)("option",{value:"0"},"全",-1))),ne=B((()=>(0,t._)("option",{value:"1"},"男",-1))),de=B((()=>(0,t._)("option",{value:"2"},"女",-1))),se=[te,ne,de],ie={class:"text-right"},oe=["onClick"],ue={class:"p-1"};function re(e,l,a,d,s,i){return(0,t.wg)(),(0,t.iD)("div",null,[(0,t._)("table",null,[(0,t._)("tr",null,[Q,R,T,(0,t._)("th",X,[(0,t._)("button",{onClick:l[0]||(l[0]=l=>e.data.push({game_division_id:e.data.length+1,sex:0,ch:"",en:""}))},"新增")])]),((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(e.data,((l,a)=>((0,t.wg)(),(0,t.iD)("tr",{key:a},[(0,t._)("td",null,[(0,t.wy)((0,t._)("input",{type:"text","onUpdate:modelValue":e=>l.ch=e},null,8,ee),[[n.nr,l.ch]])]),(0,t._)("td",null,[(0,t.wy)((0,t._)("input",{type:"text","onUpdate:modelValue":e=>l.en=e},null,8,le),[[n.nr,l.en]])]),(0,t._)("td",null,[(0,t.wy)((0,t._)("select",{"onUpdate:modelValue":e=>l.sex=e},se,8,ae),[[n.bM,l.sex]])]),(0,t._)("td",ie,[(0,t._)("button",{class:"button-red",onClick:l=>e.data.splice(a,1)},"刪除",8,oe)])])))),128))]),(0,t._)("div",ue,[(0,t._)("button",{onClick:l[1]||(l[1]=(...l)=>e.submitAll&&e.submitAll(...l))},"儲存")])])}var ce=(0,t.aZ)({setup(e,l){const a=(0,$.iH)([]),t=new O.L,n=new O._,d=(0,z.yj)();function s(){for(let e=0;e<a.value.length;e++)if(""===a.value[e].ch||""===a.value[e].en)return void n.Alert("不得有空欄位");t.Url(`general/${d.params.gameCode}/game-division/set/${d.params.gameId}`).Post({data:JSON.stringify(a.value)}).then((e=>{"done"===e.message&&(n.Alert("已儲存"),l.emit("close_modal"))}))}return t.Url(`general/${d.params.gameCode}/game-division/${d.params.gameId}`).GetAll(a),{data:a,submitAll:s}}});const _e=(0,J.Z)(ce,[["render",re],["__scopeId","data-v-6fc159a9"]]);var pe=_e,me=a(7139);const ve={class:"target"},ge={class:"inline-block mr-2"},ye={class:"inline-block"},we=["value"],he={class:"p-1"};function be(e,l,a,d,s,i){return(0,t.wg)(),(0,t.iD)("div",ve,[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(e.eventList,((a,d)=>((0,t.wg)(),(0,t.iD)(t.HY,{key:d},[a.display&&a.event_type==e.$route.params.gameCode?((0,t.wg)(),(0,t.iD)("label",{key:0,class:(0,me.C_)({selected:e.data.indexOf(a.event_id)>-1})},[(0,t._)("span",ge,"["+(0,me.zw)(a.event_id.toUpperCase())+"]",1),(0,t._)("span",ye,(0,me.zw)(a.event_ch),1),(0,t.wy)((0,t._)("input",{type:"checkbox",value:a.event_id,class:"hidden","onUpdate:modelValue":l[0]||(l[0]=l=>e.data=l)},null,8,we),[[n.e8,e.data]])],2)):(0,t.kq)("",!0)],64)))),128)),(0,t._)("div",he,[(0,t._)("button",{onClick:l[1]||(l[1]=(...l)=>e.submitAll&&e.submitAll(...l))},"儲存")])])}var ke=(0,t.aZ)({setup(e,l){const a=(0,$.iH)([]),t=new O.L,n=new O._,d=(0,z.yj)();t.Url(`general/${d.params.gameCode}/selected-event/${d.params.gameId}`).Get().then((e=>{for(let l=0;l<e.length;l++)a.value.push(e[l].event_id)}));const s=(0,$.iH)([]);function i(){t.Url(`general/${d.params.gameCode}/selected-event/set/${d.params.gameId}`).Post({data:JSON.stringify(a.value)}).then((e=>{"done"===e.message&&(n.Alert("已儲存"),l.emit("close_modal"))}))}return t.Url("event/list").GetAll(s),{data:a,eventList:s,submitAll:i}}});const fe=(0,J.Z)(ke,[["render",be],["__scopeId","data-v-ccacfd44"]]);var Ce=fe;const De=e=>((0,t.dD)("data-v-6bcb7fba"),e=e(),(0,t.Cn)(),e),Me={class:"flex flex-col flex-grow overflow-hidden h-full"},xe={class:"overflow-auto h-full"},Ue={key:0},Ae={class:"sticky top-0 bg-white"},$e=De((()=>(0,t._)("th",{class:"text-left"},"項目",-1))),He=["value","onUpdate:modelValue"],Ie=De((()=>(0,t._)("hr",null,null,-1))),Ve={class:"p-1 flex-shrink-0 mb-3"};function Ze(e,l,a,d,s,i){return(0,t.wg)(),(0,t.iD)("div",Me,[(0,t._)("div",xe,[e.data.length>0?((0,t.wg)(),(0,t.iD)("table",Ue,[(0,t._)("tr",Ae,[$e,((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(e.divisionList,((e,l)=>((0,t.wg)(),(0,t.iD)("th",{key:l},(0,me.zw)(e.ch),1)))),128))]),((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(e.eventList,((l,a)=>((0,t.wg)(),(0,t.iD)("tr",{key:a},[(0,t._)("td",null,(0,me.zw)(l.event_ch),1),((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(e.divisionList,((l,d)=>((0,t.wg)(),(0,t.iD)("td",{key:d},[(0,t._)("label",{class:(0,me.C_)({selected:e.data[a].selected_division.includes(l.game_division_id)})},[(0,t.wy)((0,t._)("input",{value:l.game_division_id,"onUpdate:modelValue":l=>e.data[a].selected_division=l,type:"checkbox",class:"hidden"},null,8,He),[[n.e8,e.data[a].selected_division]])],2)])))),128))])))),128))])):(0,t.kq)("",!0)]),Ie,(0,t._)("div",Ve,[(0,t._)("button",{onClick:l[0]||(l[0]=(...l)=>e.submitAll&&e.submitAll(...l))},"儲存")])])}var qe=(0,t.aZ)({setup(e,l){const a=new O.L,t=new O._,n=(0,z.yj)(),d=(0,$.iH)([]),s=(0,$.iH)([]);a.Url(`general/${n.params.gameCode}/selected-event/${n.params.gameId}`).GetAll(s).then((()=>{a.Url(`general/${n.params.gameCode}/event-params/${n.params.gameId}`).Get().then((e=>{for(let l=0;l<s.value.length;l++){const a=[];for(let t=0;t<e.length;t++)s.value[l].event_id===e[t].event_id&&a.push(e[t].game_division_id),console.log(a);d.value.push({event_id:s.value[l].event_id,selected_division:a})}}))}));const i=(0,$.iH)([]);function o(){const e=[];let s=1;for(let l=0;l<d.value.length;l++)for(let a=0;a<i.value.length;a++)d.value[l].selected_division.includes(i.value[a].game_division_id)&&(e.push({id:s,game_division_id:i.value[a].game_division_id,event_id:d.value[l].event_id}),s++);a.Url(`general/${n.params.gameCode}/event-params/set/${n.params.gameId}`).Post({data:JSON.stringify(e)}).then((e=>{"done"===e.message&&(t.Alert("已儲存"),l.emit("close_modal"))}))}return a.Url(`general/${n.params.gameCode}/game-division/${n.params.gameId}`).GetAll(i),{data:d,eventList:s,divisionList:i,submitAll:o}}});const Ee=(0,J.Z)(qe,[["render",Ze],["__scopeId","data-v-6bcb7fba"]]);var Le=Ee,je=(0,t.aZ)({setup(){const e=(0,$.iH)(0);return{displayModal:e,small:[2,3,4],large:[1,5,6]}},components:{SmallModal:H.Z,FullModal:I.Z,EditGame:V.Z,EditDate:W,EditDivision:pe,EditEvent:Ce,EditParams:Le}});const Ge=(0,J.Z)(je,[["render",A],["__scopeId","data-v-9cbab40e"]]);var Ye=Ge}}]);
//# sourceMappingURL=194.4b590b85.js.map