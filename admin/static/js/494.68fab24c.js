"use strict";(self["webpackChunkadmin"]=self["webpackChunkadmin"]||[]).push([[494],{6617:function(e,l,a){a.d(l,{Z:function(){return u}});var d=a(4870),n=a(3396),t=a(7139),i=a(9242),u={name:"Toggle",emits:["input","update:modelValue","change"],props:{value:{validator:function(e){return e=>-1!==["number","string","boolean"].indexOf(typeof e)||null==e},required:!1},modelValue:{validator:function(e){return e=>-1!==["number","string","boolean"].indexOf(typeof e)||null==e},required:!1},id:{type:[String,Number],required:!1,default:"toggle"},name:{type:[String,Number],required:!1,default:"toggle"},disabled:{type:Boolean,required:!1,default:!1},required:{type:Boolean,required:!1,default:!1},falseValue:{type:[String,Number,Boolean],required:!1,default:!1},trueValue:{type:[String,Number,Boolean],required:!1,default:!0},onLabel:{type:[String,Object],required:!1,default:""},offLabel:{type:[String,Object],required:!1,default:""},classes:{type:Object,required:!1,default:()=>({})},labelledby:{type:String,required:!1},describedby:{type:String,required:!1}},setup(e,l){const a=function(e,l,a){const{value:t,modelValue:i,falseValue:u,trueValue:s,disabled:o}=(0,d.BK)(e),r=i&&void 0!==i.value?i:t,c=(0,n.Fl)((()=>r.value===s.value)),g=e=>{l.emit("input",e),l.emit("update:modelValue",e),l.emit("change",e)},b=()=>{g(s.value)},_=()=>{g(u.value)};return-1!==[null,void 0,!1,0,"0","off"].indexOf(r.value)&&-1===[u.value,s.value].indexOf(r.value)&&_(),-1!==[!0,1,"1","on"].indexOf(r.value)&&-1===[u.value,s.value].indexOf(r.value)&&b(),{externalValue:r,checked:c,update:g,check:b,uncheck:_,handleInput:e=>{g(e.target.checked?s.value:u.value)},handleClick:()=>{o.value||(c.value?_():b())}}}(e,l),t=function(e,l,a){const{trueValue:t,falseValue:i,onLabel:u,offLabel:s}=(0,d.BK)(e),o=a.checked,r=a.update;return{label:(0,n.Fl)((()=>{let e=o.value?u.value:s.value;return e||(e="&nbsp;"),e})),toggle:()=>{r(o.value?i.value:t.value)},on:()=>{r(t.value)},off:()=>{r(i.value)}}}(e,0,{checked:a.checked,update:a.update}),i=function(e,l,a){const t=(0,d.BK)(e),i=t.disabled,u=a.checked,s=(0,n.Fl)((()=>({container:"toggle-container",toggle:"toggle",toggleOn:"toggle-on",toggleOff:"toggle-off",toggleOnDisabled:"toggle-on-disabled",toggleOffDisabled:"toggle-off-disabled",handle:"toggle-handle",handleOn:"toggle-handle-on",handleOff:"toggle-handle-off",handleOnDisabled:"toggle-handle-on-disabled",handleOffDisabled:"toggle-handle-off-disabled",label:"toggle-label",...t.classes.value})));return{classList:(0,n.Fl)((()=>({container:s.value.container,toggle:[s.value.toggle,i.value?u.value?s.value.toggleOnDisabled:s.value.toggleOffDisabled:u.value?s.value.toggleOn:s.value.toggleOff],handle:[s.value.handle,i.value?u.value?s.value.handleOnDisabled:s.value.handleOffDisabled:u.value?s.value.handleOn:s.value.handleOff],label:s.value.label})))}}(e,0,{checked:a.checked}),u=function(e,l,a){const{disabled:n}=(0,d.BK)(e),t=a.check,i=a.uncheck,u=a.checked;return{handleSpace:()=>{n.value||(u.value?i():t())}}}(e,0,{check:a.check,uncheck:a.uncheck,checked:a.checked});return{...a,...i,...t,...u}}};const s=["tabindex","aria-checked","aria-describedby","aria-labelledby"],o=["id","name","value","checked","disabled"],r=["innerHTML"],c=["checked"];u.render=function(e,l,a,d,u,g){return(0,n.wg)(),(0,n.iD)("div",{class:(0,t.C_)(e.classList.container),tabindex:a.disabled?void 0:0,"aria-checked":e.checked,"aria-describedby":a.describedby,"aria-labelledby":a.labelledby,role:"switch",onKeyup:l[1]||(l[1]=(0,i.D2)(((...l)=>e.handleSpace&&e.handleSpace(...l)),["space"]))},[(0,n.wy)((0,n._)("input",{type:"checkbox",id:a.id,name:a.name,value:a.trueValue,checked:e.checked,disabled:a.disabled},null,8,o),[[i.F8,!1]]),(0,n._)("div",{class:(0,t.C_)(e.classList.toggle),onClick:l[0]||(l[0]=(...l)=>e.handleClick&&e.handleClick(...l))},[(0,n._)("span",{class:(0,t.C_)(e.classList.handle)},null,2),(0,n.WI)(e.$slots,"label",{checked:e.checked,classList:e.classList},(()=>[(0,n._)("span",{class:(0,t.C_)(e.classList.label),innerHTML:e.label},null,10,r)])),a.required?((0,n.wg)(),(0,n.iD)("input",{key:0,type:"checkbox",style:{appearance:"none",height:"1px",margin:"0",padding:"0",fontSize:"0",background:"transparent",position:"absolute",width:"100%",bottom:"0",outline:"none"},checked:e.checked,"aria-hidden":"true",tabindex:"-1",required:""},null,8,c)):(0,n.kq)("v-if",!0)],2)],42,s)},u.__file="src/Toggle.vue"},3687:function(e,l,a){a.d(l,{Z:function(){return _}});var d=a(3396),n=a(9242);const t={class:"fixed z-10 left-0 top-0 w-full h-screen bg-black bg-opacity-40 p-5 box-border overflow-hidden"},i={class:"box-border w-full h-full bg-white relative p-5 sm:p-10 flex flex-col overflow-hidden rounded"},u={class:"flex items-center"},s={class:"flex-grow font-medium"},o={class:"flex-grow h-full overflow-hidden"};function r(e,l,a,r,c,g){return(0,d.wg)(),(0,d.j4)(n.uT,{name:"modal"},{default:(0,d.w5)((()=>[(0,d._)("div",t,[(0,d._)("div",i,[(0,d._)("div",u,[(0,d._)("div",s,[(0,d.WI)(e.$slots,"title")]),(0,d._)("div",{class:"text-4xl text-gray-300 hover:text-gray-500 cursor-pointer duration-300 font-light",onClick:l[0]||(l[0]=(...l)=>e.closeModal&&e.closeModal(...l))},"×")]),(0,d._)("div",o,[(0,d.WI)(e.$slots,"content")])])])])),_:3})}var c=(0,d.aZ)({setup(e,l){function a(){l.emit("close_modal")}return{closeModal:a}}}),g=a(89);const b=(0,g.Z)(c,[["render",r]]);var _=b},5626:function(e,l,a){a.d(l,{Z:function(){return _e}});var d=a(3396),n=a(9242),t=a(7139);const i=e=>((0,d.dD)("data-v-41737502"),e=e(),(0,d.Cn)(),e),u=i((()=>(0,d._)("td",{class:"w-[20%]"},"報名系統",-1))),s={class:"w-[30%]"},o=i((()=>(0,d._)("td",{class:"w-[20%]"},null,-1))),r=i((()=>(0,d._)("td",{class:"w-[30%]"},null,-1))),c=i((()=>(0,d._)("td",null,"賽事中文",-1))),g={colspan:"3"},b=["readonly"],_=i((()=>(0,d._)("td",null,"賽事英文",-1))),m={colspan:"3"},p=["readonly"],v=i((()=>(0,d._)("td",null,"賽事說明",-1))),f={colspan:"3"},h=["readonly"],y=i((()=>(0,d._)("td",null,"運動項目",-1))),w={colspan:"3"},V=["value"],k=i((()=>(0,d._)("td",null,"負責單位",-1))),O={colspan:"3"},S=["disabled"],U={key:0,class:"inline-block m-1 border-2 rounded py-1 px-2"},x=i((()=>(0,d._)("td",null,"比賽日期",-1))),L={colspan:"3"},D=["readonly"],H=i((()=>(0,d._)("td",null,"報名開始",-1))),E={colspan:"3"},A=["readonly"],j=i((()=>(0,d._)("td",null,"報名結束",-1))),q={colspan:"3"},C=["readonly"],M=i((()=>(0,d._)("td",{class:"w-[20%]"},"比賽性質",-1))),W={class:"w-[30%]"},T=i((()=>(0,d._)("td",{class:"w-[20%]"},"報名單位",-1))),Z={class:"w-[30%]"},B=i((()=>(0,d._)("td",{class:"w-[20%]"},"報名選手限同系所",-1))),K={class:"w-[30%]"},I=i((()=>(0,d._)("td",{class:"w-[20%]"},"報名選手限同團體",-1))),Y={class:"w-[30%]"},F=i((()=>(0,d._)("td",{class:"w-[20%]"},"同一單位限報一隊",-1))),N={class:"w-[30%]"},z=i((()=>(0,d._)("td",null,"使用報名系統",-1))),G=i((()=>(0,d._)("td",null,"自有報名系統",-1))),R=["disabled","readonly"],$=i((()=>(0,d._)("td",null,"使用管理系統",-1))),J=i((()=>(0,d._)("td",null,"自有管理系統",-1))),P=["disabled","readonly"],Q=i((()=>(0,d._)("td",null,"使用網站頁面",-1))),X=i((()=>(0,d._)("td",null,"自有網站頁面",-1))),ee=["disabled","readonly"],le={class:"text-2xl"},ae={key:0},de=i((()=>(0,d._)("hr",{class:"my-2"},null,-1))),ne=["value"];function te(e,l,a,i,te,ie){const ue=(0,d.up)("Toggle"),se=(0,d.up)("SmallModal");return(0,d.wg)(),(0,d.iD)(d.HY,null,[(0,d._)("div",null,[(0,d._)("table",null,[(0,d._)("tr",null,[u,(0,d._)("td",s,[(0,d.Wm)(ue,{modelValue:e.regSwitch,"onUpdate:modelValue":l[0]||(l[0]=l=>e.regSwitch=l),disabled:!e.isEdit,falseValue:"0",trueValue:"1",offLabel:"關閉",onLabel:"開啟"},null,8,["modelValue","disabled"])]),o,r]),(0,d._)("tr",null,[c,(0,d._)("td",g,[(0,d.wy)((0,d._)("input",{type:"text","onUpdate:modelValue":l[1]||(l[1]=l=>e.nameCh=l),readonly:!e.isEdit},null,8,b),[[n.nr,e.nameCh]])])]),(0,d._)("tr",null,[_,(0,d._)("td",m,[(0,d.wy)((0,d._)("input",{type:"text","onUpdate:modelValue":l[2]||(l[2]=l=>e.nameEn=l),readonly:!e.isEdit},null,8,p),[[n.nr,e.nameEn]])])]),(0,d._)("tr",null,[v,(0,d._)("td",f,[(0,d.wy)((0,d._)("textarea",{"onUpdate:modelValue":l[3]||(l[3]=l=>e.info=l),readonly:!e.isEdit,class:"w-full",rows:"5"},null,8,h),[[n.nr,e.info]])])]),(0,d._)("tr",null,[y,(0,d._)("td",w,[(0,d.wy)((0,d._)("select",{"onUpdate:modelValue":l[4]||(l[4]=l=>e.type=l),disabled:""},[((0,d.wg)(!0),(0,d.iD)(d.HY,null,(0,d.Ko)(e.sportList,((e,l)=>((0,d.wg)(),(0,d.iD)("option",{key:l,value:e.code},(0,t.zw)(e.name_ch),9,V)))),128))],512),[[n.bM,e.type]])])]),(0,d._)("tr",null,[k,(0,d._)("td",O,[(0,d._)("div",null,[(0,d._)("button",{onClick:l[5]||(l[5]=l=>e.displayModal=1),disabled:!e.isEdit},"選取",8,S)]),(0,d._)("div",null,[((0,d.wg)(!0),(0,d.iD)(d.HY,null,(0,d.Ko)(e.divisionList,((l,a)=>((0,d.wg)(),(0,d.iD)(d.HY,{key:a},[e.hostDivision.indexOf(l.division_id)>-1?((0,d.wg)(),(0,d.iD)("span",U,(0,t.zw)(l.name_ch),1)):(0,d.kq)("",!0)],64)))),128))])])]),(0,d._)("tr",null,[x,(0,d._)("td",L,[(0,d.wy)((0,d._)("input",{type:"date","onUpdate:modelValue":l[6]||(l[6]=l=>e.eventStart=l),readonly:!e.isEdit},null,8,D),[[n.nr,e.eventStart]])])]),(0,d._)("tr",null,[H,(0,d._)("td",E,[(0,d.wy)((0,d._)("input",{type:"datetime-local","onUpdate:modelValue":l[7]||(l[7]=l=>e.regStart=l),readonly:!e.isEdit},null,8,A),[[n.nr,e.regStart]])])]),(0,d._)("tr",null,[j,(0,d._)("td",q,[(0,d.wy)((0,d._)("input",{type:"datetime-local","onUpdate:modelValue":l[8]||(l[8]=l=>e.regEnd=l),readonly:!e.isEdit},null,8,C),[[n.nr,e.regEnd]])])]),(0,d._)("tr",null,[M,(0,d._)("td",W,[(0,d.Wm)(ue,{modelValue:e.nsysu,"onUpdate:modelValue":l[9]||(l[9]=l=>e.nsysu=l),disabled:!e.isEdit,falseValue:"0",trueValue:"1",offLabel:"校內",onLabel:"校外"},null,8,["modelValue","disabled"])]),T,(0,d._)("td",Z,[(0,d.Wm)(ue,{modelValue:e.regUnit,"onUpdate:modelValue":l[10]||(l[10]=l=>e.regUnit=l),disabled:!e.isEdit,falseValue:"0",trueValue:"1",offLabel:"團體",onLabel:"系所"},null,8,["modelValue","disabled"])])]),(0,d._)("tr",null,[1==e.regUnit?((0,d.wg)(),(0,d.iD)(d.HY,{key:0},[B,(0,d._)("td",K,[(0,d.Wm)(ue,{modelValue:e.sameDept,"onUpdate:modelValue":l[11]||(l[11]=l=>e.sameDept=l),disabled:!e.isEdit,falseValue:"0",trueValue:"1",offLabel:"不限",onLabel:"限制"},null,8,["modelValue","disabled"])])],64)):(0,d.kq)("",!0),0==e.regUnit?((0,d.wg)(),(0,d.iD)(d.HY,{key:1},[I,(0,d._)("td",Y,[(0,d.Wm)(ue,{modelValue:e.sameOrg,"onUpdate:modelValue":l[12]||(l[12]=l=>e.sameOrg=l),disabled:!e.isEdit,falseValue:"0",trueValue:"1",offLabel:"不限",onLabel:"限制"},null,8,["modelValue","disabled"])])],64)):(0,d.kq)("",!0),F,(0,d._)("td",N,[(0,d.Wm)(ue,{modelValue:e.onlyTeam,"onUpdate:modelValue":l[13]||(l[13]=l=>e.onlyTeam=l),disabled:!e.isEdit,falseValue:"0",trueValue:"1",offLabel:"不限",onLabel:"限制"},null,8,["modelValue","disabled"])])]),(0,d._)("tr",null,[z,(0,d._)("td",null,[(0,d.Wm)(ue,{modelValue:e.useReg,"onUpdate:modelValue":l[14]||(l[14]=l=>e.useReg=l),disabled:!e.isEdit,falseValue:"0",trueValue:"1",offLabel:"否",onLabel:"是"},null,8,["modelValue","disabled"])]),G,(0,d._)("td",null,[(0,d.wy)((0,d._)("input",{type:"text",disabled:"1"===e.useReg,"onUpdate:modelValue":l[15]||(l[15]=l=>e.regUrl=l),readonly:!e.isEdit,placeholder:"請輸入網址"},null,8,R),[[n.nr,e.regUrl]])])]),(0,d._)("tr",null,[$,(0,d._)("td",null,[(0,d.Wm)(ue,{modelValue:e.useManage,"onUpdate:modelValue":l[16]||(l[16]=l=>e.useManage=l),disabled:!e.isEdit,falseValue:"0",trueValue:"1",offLabel:"否",onLabel:"是"},null,8,["modelValue","disabled"])]),J,(0,d._)("td",null,[(0,d.wy)((0,d._)("input",{type:"text",disabled:"1"===e.useManage,"onUpdate:modelValue":l[17]||(l[17]=l=>e.manageUrl=l),readonly:!e.isEdit,placeholder:"請輸入網址"},null,8,P),[[n.nr,e.manageUrl]])])]),(0,d._)("tr",null,[Q,(0,d._)("td",null,[(0,d.Wm)(ue,{modelValue:e.useSite,"onUpdate:modelValue":l[18]||(l[18]=l=>e.useSite=l),disabled:!e.isEdit,falseValue:"0",trueValue:"1",offLabel:"否",onLabel:"是"},null,8,["modelValue","disabled"])]),X,(0,d._)("td",null,[(0,d.wy)((0,d._)("input",{type:"text",disabled:"1"===e.useSite,"onUpdate:modelValue":l[19]||(l[19]=l=>e.siteUrl=l),readonly:!e.isEdit,placeholder:"請輸入網址"},null,8,ee),[[n.nr,e.siteUrl]])])])]),(0,d._)("div",null,[0==e.isEdit?((0,d.wg)(),(0,d.iD)("button",{key:0,class:"w-full",onClick:l[20]||(l[20]=l=>e.isEdit=!0)},"編輯")):(0,d.kq)("",!0),1==e.isEdit?((0,d.wg)(),(0,d.iD)("button",{key:1,class:"w-full",onClick:l[21]||(l[21]=(...l)=>e.submitAll&&e.submitAll(...l))},"儲存")):(0,d.kq)("",!0)])]),(0,d.wy)((0,d.Wm)(se,{onClose_modal:l[23]||(l[23]=l=>e.displayModal=0)},{title:(0,d.w5)((()=>[(0,d._)("div",le,[1==e.displayModal?((0,d.wg)(),(0,d.iD)("div",ae,"選擇單位")):(0,d.kq)("",!0)])])),content:(0,d.w5)((()=>[de,((0,d.wg)(!0),(0,d.iD)(d.HY,null,(0,d.Ko)(e.divisionList,((a,i)=>((0,d.wg)(),(0,d.iD)("label",{key:i,class:(0,t.C_)({"division-label":!0,"division-selected":e.hostDivision.indexOf(a.division_id)>-1})},[(0,d._)("span",null,(0,t.zw)(a.name_ch),1),(0,d.wy)((0,d._)("input",{class:"hidden",type:"checkbox",value:a.division_id,"onUpdate:modelValue":l[22]||(l[22]=l=>e.hostDivision=l)},null,8,ne),[[n.e8,e.hostDivision]])],2)))),128))])),_:1},512),[[n.F8,e.displayModal>0]])],64)}var ie=a(4870),ue=a(6617),se=a(3927),oe=a(1435),re=a(2483),ce=(0,d.aZ)({props:["gameType"],setup(e,l){const a=new se.L,d=new se._,n=(0,re.yj)(),t=(0,ie.iH)(e.gameType),i=(0,ie.iH)(0),u=(0,ie.iH)([]);function s(){a.Url("sports/list").GetAll(u)}s();const o=(0,ie.iH)([]);function r(){a.Url("division/list").GetAll(o)}r();const c=(0,ie.iH)(""),g=(0,ie.iH)(""),b=(0,ie.iH)(""),_=(0,ie.iH)("athl"),m=(0,ie.iH)([]),p=(0,ie.iH)(""),v=(0,ie.iH)(""),f=(0,ie.iH)(""),h=(0,ie.iH)("0"),y=(0,ie.iH)("1"),w=(0,ie.iH)("0"),V=(0,ie.iH)("0"),k=(0,ie.iH)("0"),O=(0,ie.iH)("0"),S=(0,ie.iH)("1"),U=(0,ie.iH)(""),x=(0,ie.iH)("1"),L=(0,ie.iH)(""),D=(0,ie.iH)("1"),H=(0,ie.iH)("");function E(){a.Url(`games/${n.params.gameId}`).Get().then((e=>{c.value=e.name_ch,g.value=e.name_en,b.value=e.info,_.value=e.type,m.value=JSON.parse(e.host_division),p.value=e.reg_start,v.value=e.reg_end,f.value=e.event_start,h.value=String(e.nsysu),y.value=String(e.reg_switch),w.value=String(e.same_org),V.value=String(e.same_dept),k.value=String(e.only_team),O.value=String(e.reg_unit),S.value=String(e.use_reg),U.value=e.reg_url,x.value=String(e.use_manage),L.value=e.manage_url,D.value=String(e.use_site),H.value=e.site_url}))}function A(){"1"===S.value&&(U.value=""),"1"===x.value&&(L.value=""),"1"===D.value&&(H.value=""),a.Dataset().AddObj("name_ch",c).AddObj("name_en",g).AddObj("info",b).AddObj("type",_).AddObj("reg_start",p).AddObj("reg_end",v).AddObj("event_start",f).AddObj("nsysu",h).AddObj("reg_switch",y).Add("host_division",JSON.stringify(m.value)).AddObj("same_org",w).AddObj("same_dept",V).AddObj("only_team",k).AddObj("reg_unit",O).AddObj("use_reg",S).AddObj("reg_url",U).AddObj("use_manage",x).AddObj("manage_url",L).AddObj("use_site",D).AddObj("site_url",H),a.Url("games/edit").Patch(String(n.params.gameId),a.GetDset()).then((e=>{"done"===e.message&&(d.Alert("已更新比賽資訊"),l.emit("refresh"),l.emit("close_modal"))}))}return E(),{nameCh:c,nameEn:g,info:b,type:_,hostDivision:m,regStart:p,regEnd:v,eventStart:f,nsysu:h,regSwitch:y,sameOrg:w,sameDept:V,onlyTeam:k,regUnit:O,useReg:S,regUrl:U,useManage:x,manageUrl:L,useSite:D,siteUrl:H,submitAll:A,sportList:u,divisionList:o,displayModal:i,gameCode:t,isEdit:(0,ie.iH)(!1)}},components:{Toggle:ue.Z,SmallModal:oe.Z}}),ge=a(89);const be=(0,ge.Z)(ce,[["render",te],["__scopeId","data-v-41737502"]]);var _e=be}}]);
//# sourceMappingURL=494.68fab24c.js.map